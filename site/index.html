<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">   
    <link rel="shortcut icon" href="img/favicon.ico"> 
    <title>Home - Documentation Business Cloud Mobile</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="css/base.min.css" rel="stylesheet">
    <link href="css/cinder.css" rel="stylesheet">  
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">  

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

      
</head>

<body class="homepage" >

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">

            <!-- Main title -->

            
            <a class="navbar-brand" href=".">Documentation Business Cloud Mobile</a> 
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fas fa-search"></i> Rechercher
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
         
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#bienvenue-sur-la-documentation-de-lapi-business-cloud-mobile">Bienvenue sur la documentation de l'API Business Cloud Mobile</a></li>
            <li class="second-level"><a href="#intallation-de-lapi-en-local">Intallation de l'API en local</a></li>
                
            <li class="second-level"><a href="#ensemble-des-module-necessaires">Ensemble des module nécessaires</a></li>
                
            <li class="second-level"><a href="#documentation-des-routes">Documentation des routes</a></li>
                
                <li class="third-level"><a href="#authentification">Authentification</a></li>
                <li class="third-level"><a href="#profil-utilisateur">Profil utilisateur</a></li>
                <li class="third-level"><a href="#utilisateurs">Utilisateurs</a></li>
                <li class="third-level"><a href="#factures">Factures</a></li>
                <li class="third-level"><a href="#devis">Devis</a></li>
                <li class="third-level"><a href="#articles">Articles</a></li>
                <li class="third-level"><a href="#projets">Projets</a></li>
                <li class="third-level"><a href="#temps">Temps</a></li>
                <li class="third-level"><a href="#depenses">Dépenses</a></li>
                <li class="third-level"><a href="#conversations">Conversations</a></li>
                <li class="third-level"><a href="#notifications">Notifications</a></li>
                <li class="third-level"><a href="#paiement">Paiement</a></li>
                <li class="third-level"><a href="#statistiques">Statistiques</a></li>
                <li class="third-level"><a href="#routes-globales">Routes globales</a></li>
                <li class="third-level"><a href="#erreurs-globales">Erreurs globales</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="bienvenue-sur-la-documentation-de-lapi-business-cloud-mobile">Bienvenue sur la documentation de l'API Business Cloud Mobile</h1>
<p>Vous trouverez ici, l'ensemble de la documentation relative à l'API.</p>
<h2 id="intallation-de-lapi-en-local">Intallation de l'API en local</h2>
<ul>
<li><code>Récupération du projet</code> - <a href="https://github.com/Sebastien-Lechat/Business-Cloud-Mobile-API">Lien du GitHub</a>.</li>
<li><code>Exécution de commande</code> - Ensemble des commandes nécessaire à exécuter pour le lancement du projet.</li>
</ul>
<pre><code>npm install
npm start
</code></pre>
<ul>
<li><code>Lancement du serveur</code> - Le serveur est lancé à l'adresse suivante : <a href="http://localhost:8081/">http://localhost:8081/</a></li>
</ul>
<h2 id="ensemble-des-module-necessaires">Ensemble des module nécessaires</h2>
<ul>
<li><code>Express</code> - <a href="https://www.npmjs.com/package/express">Lien du module</a>.</li>
<li><code>Body-parser</code> - <a href="https://www.npmjs.com/package/express">Lien du module</a>.</li>
<li><code>Bcrypt</code> - <a href="https://www.npmjs.com/package/bcrypt">Lien du module</a>.</li>
<li><code>Mongoose</code> - <a href="https://www.npmjs.com/package/mongoose">Lien du module</a>.</li>
<li><code>JsonWebToken</code> - <a href="https://www.npmjs.com/package/jsonwebtoken">Lien du module</a>.</li>
<li><code>Nodemailer</code> - <a href="https://www.npmjs.com/package/nodemailer">Lien du module</a>.</li>
<li><code>Cors</code> - <a href="https://www.npmjs.com/package/cors">Lien du module</a>.</li>
<li><code>Socket.io</code> - <a href="https://www.npmjs.com/package/socket.io">Lien du module</a>.</li>
<li><code>Firebase cloud messaging</code> - <a href="https://firebase.google.com/docs">Lien de la documentation</a>.</li>
</ul>
<h2 id="documentation-des-routes">Documentation des routes</h2>
<h3 id="authentification">Authentification</h3>
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="connexion">Connexion</h4>
<hr />
<p><strong>Route de connexion pour n'importe quel type d'utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/auth/login</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>NON</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Email de l'utilisateur</td>
<td>✔️</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Mot de passe de l'utilisateur</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot; : &quot;Successfully connected&quot;,
    &quot;user&quot; : {
        &quot;id&quot;:&quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;type&quot; : &quot;&quot;,
        &quot;address&quot; : &quot;&quot;,
        &quot;zip&quot; : &quot;&quot;,
        &quot;city&quot; : &quot;&quot;,
        &quot;country&quot; : &quot;&quot;,
        &quot;token&quot; : &quot;&quot;,
        &quot;refreshToken&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101001&quot;,
    &quot;message&quot;: &quot;Missing email or password field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101002&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : Mauvaise information de connexion.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101003&quot;,
    &quot;message&quot;: &quot;Invalid login credential&quot;
}
</code></pre>
<p><strong>Condition</strong> : Si l'adresse email n'est pas encore vérifié.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101004&quot;,
    &quot;message&quot;: &quot;Email address is not verified&quot;
}
</code></pre>
<p><strong>Condition</strong> : Si la double authentification est activé mais que le code n'est pas fourni.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101005&quot;,
    &quot;message&quot;: &quot;Double authentification is activated, code is required&quot;
}
</code></pre>
<p><strong>Condition</strong> : Si le code de double authentification est faux.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101006&quot;,
    &quot;message&quot;: &quot;Wrong code&quot;
}
</code></pre>
<p><strong>Condition</strong> : Si le code de double authentification est expiré.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101007&quot;,
    &quot;message&quot;: &quot;This code is no longer valid&quot;
}
</code></pre>
<p><strong>Condition</strong> : Si le compte de l'utilisateur est désactivé.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101008&quot;,
    &quot;message&quot;: &quot;This account is disabled&quot;
}
</code></pre>
<p><strong>Condition</strong> : Trop de tentative de connexion sur ce mail.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101008&quot;,
    &quot;message&quot;: &quot;Too many attempts on this email (5 max) - Please wait (5min)&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="connexion-a-une-api-exterieur">Connexion à une API extérieur</h4>
<hr />
<p><strong>Route de connexion pour n'importe quel type d'utilisateur via une API externe.</strong></p>
<p><strong>URL</strong> : <code>/auth/external/login</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>NON</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID du compte externe</td>
<td>✔️</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Nom de l'API externe utilisé (facebook, google)</td>
<td>✔️</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email de l'utilisateur</td>
<td>✔️</td>
</tr>
<tr>
<td>token</td>
<td>string</td>
<td>Token fourni par l'API externe</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_1">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot; : &quot;Successfully connected&quot;,
    &quot;user&quot; : {
        &quot;id&quot;:&quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;type&quot; : &quot;&quot;,
        &quot;address&quot; : &quot;&quot;,
        &quot;zip&quot; : &quot;&quot;,
        &quot;city&quot; : &quot;&quot;,
        &quot;country&quot; : &quot;&quot;,
        &quot;token&quot; : &quot;&quot;,
        &quot;refreshToken&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_1">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101401&quot;,
    &quot;message&quot;: &quot;Missing email or password field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101402&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : Aucun compte lié valide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101403&quot;,
    &quot;message&quot;: &quot;No account linked to this email&quot;
}
</code></pre>
<p><strong>Condition</strong> : Le type ne correspond à aucun type valide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101404&quot;,
    &quot;message&quot;: &quot;Invalid type&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de compte extérieur invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101405&quot;,
    &quot;message&quot;: &quot;Invalid external account ID&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->

<h4 id="inscription">Inscription</h4>
<hr />
<p><strong>Route de d'inscription d'un utilisateur (client ou entreprise).</strong></p>
<p><strong>URL</strong> : <code>/auth/register</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>NON</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Nom et prénom du client ou de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email du client ou de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Téléphone du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Mot de passe du client ou de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>Adresse du client ou de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>zip</td>
<td>string</td>
<td>Code postal du client ou de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>city</td>
<td>string</td>
<td>Ville du client ou de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>Pays du client ou de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>numTVA</td>
<td>string</td>
<td>Numéro de TVA de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>numSIRET</td>
<td>string</td>
<td>Numéro de SIRET de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>numRCS</td>
<td>string</td>
<td>Numéro de RCS de l'entreprise</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_2">Requête réussie</h5>
<p><strong>Code</strong> : <code>201</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successfully registred&quot;
}
</code></pre>
<h5 id="requete-echouee_2">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101051&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101052&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de téléphone invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101053&quot;,
    &quot;message&quot;: &quot;Invalid phone number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Mot de passe invalide ou à faible sécurité (Une majuscule, un numéro, un caractère spécial, et de 7 à 30 charactères).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101054&quot;,
    &quot;message&quot;: &quot;Invalid password format&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de TVA invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101055&quot;,
    &quot;message&quot;: &quot;Invalid TVA number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de SIRET invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101056&quot;,
    &quot;message&quot;: &quot;Invalid SIRET number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de RCS invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101057&quot;,
    &quot;message&quot;: &quot;Invalid RCS number&quot;
}
</code></pre>
<p><strong>Condition</strong> : L'email est déjà utilisé par un autre utilisateur.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101058&quot;,
    &quot;message&quot;: &quot;This email is already used&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="mot-de-passe-oublie">Mot de passe oublié</h4>
<hr />
<p><strong>Route de récupération du mot depasse utilisateur. Le mail contient un lien de redirection sur le site pour modifier le mot de passe.</strong></p>
<p><strong>URL</strong> : <code>/auth/request-password-lost</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>NON</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Email de l'utilisateur</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_3">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Email successfully send&quot;
}
</code></pre>
<h5 id="requete-echouee_3">Requête échouée</h5>
<p><strong>Condition</strong> : Champ email manquant.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101101&quot;,
    &quot;message&quot;: &quot;Missing email field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101102&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : Echec de l'envoi du mail.</p>
<p><strong>Code</strong> : <code>500</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;500001&quot;,
    &quot;message&quot;: &quot;Internal server error, email can not be send&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="verification-de-lemail-envoi">Vérification de l'email (envoi)</h4>
<hr />
<p><strong>Route d'envoi d'un email contenant un code de vérification à un utilisateur après son inscription, ou si il change de mail dans son profil.</strong></p>
<p><strong>URL</strong> : <code>/auth/request-verify-email</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>NON</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Email de l'utilisateur</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_4">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Email successfully send&quot;
}
</code></pre>
<h5 id="requete-echouee_4">Requête échouée</h5>
<p><strong>Condition</strong> : Champ email manquant.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101151&quot;,
    &quot;message&quot;: &quot;Missing email field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101152&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : Email déjà vérifié.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101153&quot;,
    &quot;message&quot;: &quot;Email already verified&quot;
}
</code></pre>
<p><strong>Condition</strong> : Echec de l'envoi du mail.</p>
<p><strong>Code</strong> : <code>500</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;500002&quot;,
    &quot;message&quot;: &quot;Internal server error, email can not be send&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="verification-de-lemail-verification">Vérification de l'email (vérification)</h4>
<hr />
<p><strong>Route de vérification de l'email grâce au code reçu dans le mail de la requête précédente. Le code est valable 10 minutes.</strong></p>
<p><strong>URL</strong> : <code>/auth/verify-email</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>NON</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Email de l'utilisateur</td>
<td>✔️</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>Code à 6 chiffre reçu dans le mail</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_5">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful verification&quot;
}
</code></pre>
<h5 id="requete-echouee_5">Requête échouée</h5>
<p><strong>Condition</strong> : Champ email ou code manquant.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101201&quot;,
    &quot;message&quot;: &quot;Missing email or code field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101202&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : Code ou adresse email invalide (utilisateur introuvable).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101203&quot;,
    &quot;message&quot;: &quot;Invalid user information&quot;
}
</code></pre>
<p><strong>Condition</strong> : L'email n'est pas en court de vérification.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101204&quot;,
    &quot;message&quot;: &quot;You need to make a request to check this email&quot;
}
</code></pre>
<p><strong>Condition</strong> : Mauvais code.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101205&quot;,
    &quot;message&quot;: &quot;Wrong code&quot;
}
</code></pre>
<p><strong>Condition</strong> : Code expiré.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101206&quot;,
    &quot;message&quot;: &quot;This code is no longer valid&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="double-authentification-envoi">Double authentification (envoi)</h4>
<hr />
<p><strong>Route d'envoi d'un email contenant un code de vérification à un utilisateur lors de sa connexion, si la double authentification est activé.</strong></p>
<p><strong>URL</strong> : <code>/auth/request-double-auth</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>NON</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Email de l'utilisateur</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_6">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Email successfully send&quot;
}
</code></pre>
<h5 id="requete-echouee_6">Requête échouée</h5>
<p><strong>Condition</strong> : Champ email manquant.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101251&quot;,
    &quot;message&quot;: &quot;Missing email&quot;
}
</code></pre>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101252&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID ou adresse email invalide (utilisateur introuvable).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101253&quot;,
    &quot;message&quot;: &quot;Invalid user information&quot;
}
</code></pre>
<p><strong>Condition</strong> : Double authentification désactivé.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101254&quot;,
    &quot;message&quot;: &quot;Double authentification is not activated on this account&quot;
}
</code></pre>
<p><strong>Condition</strong> : Echec de l'envoi du mail.</p>
<p><strong>Code</strong> : <code>500</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;500003&quot;,
    &quot;message&quot;: &quot;Internal server error, email can not be send&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="double-authentification-activation">Double authentification (activation)</h4>
<hr />
<p><strong>Route d'activation de la double authentification pour un utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/auth/active-double-auth</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>isActive</td>
<td>boolean</td>
<td>Booléen pour définir si la double authentification est actié ou non</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_7">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Double authentification successfully updated&quot;
}
</code></pre>
<h5 id="requete-echouee_7">Requête échouée</h5>
<p><strong>Condition</strong> : Champ isActive manquant.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;101301&quot;,
    &quot;message&quot;: &quot;Missing isActive field&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="deconnexion">Déconnexion</h4>
<hr />
<p><strong>Route de déconnexion pour n'importe quel type d'utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/auth/disconnect</code></p>
<p><strong>Methode</strong> : <code>DELETE</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_8">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successfully logout&quot;
}
</code></pre>
<hr />
<h3 id="profil-utilisateur">Profil utilisateur</h3>
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="recuperation-du-profil">Récupération du profil</h4>
<hr />
<p><strong>Route de récupération des informations de son profil utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/account</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_9">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful profil acquisition&quot;,
    &quot;user&quot; : {
        &quot;id&quot;:&quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;type&quot; : &quot;&quot;,
        &quot;address&quot; : &quot;&quot;,
        &quot;zip&quot; : &quot;&quot;,
        &quot;city&quot; : &quot;&quot;,
        &quot;country&quot; : &quot;&quot;,
        &quot;activity&quot; : &quot;&quot;,
        &quot;numTVA&quot; : &quot;&quot;,
        &quot;numSIRET&quot; : &quot;&quot;,
        &quot;numRCS&quot; : &quot;&quot;,
        &quot;token&quot; : &quot;&quot;,
        &quot;refreshToken&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;needVerifyEmail&quot;: &quot;&quot;,
    }
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modification-des-informations-personnelles">Modification des informations personnelles</h4>
<hr />
<p><strong>Route de modification des informations personnelles, des informations de contact.</strong></p>
<p><strong>URL</strong> : <code>/account/information</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Nom et prénom de l'utilisateur ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email de l'utilisateur ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Téléphone de l'utilisateur ou de l'entreprise</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_10">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Profile successfully updated&quot;,
    &quot;user&quot; : {
        &quot;id&quot;:&quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;type&quot; : &quot;&quot;,
        &quot;address&quot; : &quot;&quot;,
        &quot;zip&quot; : &quot;&quot;,
        &quot;city&quot; : &quot;&quot;,
        &quot;country&quot; : &quot;&quot;,
        &quot;activity&quot; : &quot;&quot;,
        &quot;numTVA&quot; : &quot;&quot;,
        &quot;numSIRET&quot; : &quot;&quot;,
        &quot;numRCS&quot; : &quot;&quot;,
        &quot;token&quot; : &quot;&quot;,
        &quot;refreshToken&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;needVerifyEmail&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_8">Requête échouée</h5>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102051&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de téléphone invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102052&quot;,
    &quot;message&quot;: &quot;Invalid phone number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Date de naisseance invalide (DD-MM-YYY).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102053&quot;,
    &quot;message&quot;: &quot;Invalid date format&quot;
}
</code></pre>
<p><strong>Condition</strong> : L'email est déjà utilisé par un autre utilisateur.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102054&quot;,
    &quot;message&quot;: &quot;This email is already used&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modification-de-lavatar">Modification de l'avatar</h4>
<hr />
<p><strong>Route de modification de l'avatar de l'utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/account/avatar</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>avatarPath</td>
<td>string</td>
<td>nom du fichier pour la récupération sur firecloud storage</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_11">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Profile successfully updated&quot;,
}
</code></pre>
<h5 id="requete-echouee_9">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102301&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modification-du-mot-de-passe">Modification du mot de passe</h4>
<hr />
<p><strong>Route de modification du mot de passe de l'utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/account/password</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Email de l'utilisateur</td>
<td>✔️</td>
</tr>
<tr>
<td>oldPassword</td>
<td>string</td>
<td>Ancien mot de passe de l'utilisateur</td>
<td>✔️</td>
</tr>
<tr>
<td>newPassword</td>
<td>string</td>
<td>Nouveau mot de passe de l'utilisateur</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_12">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Password successfully updated&quot;,
    &quot;user&quot; : {
        &quot;id&quot;:&quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;type&quot; : &quot;&quot;,
        &quot;address&quot; : &quot;&quot;,
        &quot;zip&quot; : &quot;&quot;,
        &quot;city&quot; : &quot;&quot;,
        &quot;country&quot; : &quot;&quot;,
        &quot;activity&quot; : &quot;&quot;,
        &quot;numTVA&quot; : &quot;&quot;,
        &quot;numSIRET&quot; : &quot;&quot;,
        &quot;numRCS&quot; : &quot;&quot;,
        &quot;token&quot; : &quot;&quot;,
        &quot;refreshToken&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;needVerifyEmail&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_10">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102101&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Ancien mot de passe invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102102&quot;,
    &quot;message&quot;: &quot;Invalid old password&quot;
}
</code></pre>
<p><strong>Condition</strong> : Nouveau mot de passe invalide ou à faible sécurité.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102103&quot;,
    &quot;message&quot;: &quot;Invalid password format&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modification-de-ladresse">Modification de l'adresse</h4>
<hr />
<p><strong>Route de modification des information de location de l'utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/account/address</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>address</td>
<td>string</td>
<td>Adresse de l'utilisateur ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>zip</td>
<td>string</td>
<td>Code postal de l'utilisateur ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>city</td>
<td>string</td>
<td>Ville de l'utilisateur ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>Pays de l'utilisateur ou de l'entreprise</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_13">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Address successfully updated&quot;,
    &quot;user&quot; : {
        &quot;id&quot;:&quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;type&quot; : &quot;&quot;,
        &quot;address&quot; : &quot;&quot;,
        &quot;zip&quot; : &quot;&quot;,
        &quot;city&quot; : &quot;&quot;,
        &quot;country&quot; : &quot;&quot;,
        &quot;activity&quot; : &quot;&quot;,
        &quot;numTVA&quot; : &quot;&quot;,
        &quot;numSIRET&quot; : &quot;&quot;,
        &quot;numRCS&quot; : &quot;&quot;,
        &quot;token&quot; : &quot;&quot;,
        &quot;refreshToken&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;needVerifyEmail&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_11">Requête échouée</h5>
<p><strong>Condition</strong> : Si l'utilisateur faisant la requête n'est ni gérant, ni un client.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102151&quot;,
    &quot;message&quot;: &quot;You cannot edit your address with this account&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modification-des-informations-entreprise">Modification des informations entreprise</h4>
<hr />
<p><strong>Route de modification des informations liées à l'entreprise d'un utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/account/enterprise</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>activity</td>
<td>string</td>
<td>Activité de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>numTVA</td>
<td>string</td>
<td>Numéro de TVA de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>numSIRET</td>
<td>string</td>
<td>Numéro de SIRET de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>numRCS</td>
<td>string</td>
<td>Numéro de RCS de l'entreprise</td>
<td>-</td>
</tr>
</tbody>
</table>
<!-- | currency | string | Monnaie avec laquelle les factures seront générées pour le client | - | -->

<h5 id="requete-reussie_14">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Enterprise successfully updated&quot;,
    &quot;user&quot; : {
        &quot;id&quot;:&quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;type&quot; : &quot;&quot;,
        &quot;address&quot; : &quot;&quot;,
        &quot;zip&quot; : &quot;&quot;,
        &quot;city&quot; : &quot;&quot;,
        &quot;country&quot; : &quot;&quot;,
        &quot;activity&quot; : &quot;&quot;,
        &quot;numTVA&quot; : &quot;&quot;,
        &quot;numSIRET&quot; : &quot;&quot;,
        &quot;numRCS&quot; : &quot;&quot;,
        &quot;token&quot; : &quot;&quot;,
        &quot;refreshToken&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;needVerifyEmail&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_12">Requête échouée</h5>
<p><strong>Condition</strong> : Si l'utilisateur faisant la requête n'est ni gérant, ni un client.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102201&quot;,
    &quot;message&quot;: &quot;You cannot edit your enterprise with this account&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de TVA invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102202&quot;,
    &quot;message&quot;: &quot;Invalid TVA number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de SIRET invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102203&quot;,
    &quot;message&quot;: &quot;Invalid SIRET number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de RCS invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102204&quot;,
    &quot;message&quot;: &quot;Invalid RCS number&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->

<h4 id="enregistrement-dun-appareil">Enregistrement d'un appareil</h4>
<hr />
<p><strong>Route d'enregistrement pour l'envoi de notification avec firebase</strong></p>
<p><strong>URL</strong> : <code>/account/register-fcm</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>NON</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>deviceId</td>
<td>string</td>
<td>ID de l'appareil</td>
<td>✔️</td>
</tr>
<tr>
<td>token</td>
<td>string</td>
<td>Token d'authentification pour l'enregistrement donné par firebase</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_15">Requête réussie</h5>
<p><strong>Code</strong> : <code>201</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Device successfully added&quot;
}
</code></pre>
<h5 id="requete-echouee_13">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;102251&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<hr />
<h3 id="utilisateurs">Utilisateurs</h3>
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="liste-des-utilisateurs">Liste des utilisateurs</h4>
<hr />
<p><strong>Route d'obtention de la liste des utilisateurs en fonction des permissions. Un client verra son employé référent et le gérant, un employé verra ses clients et les autres employés, et pour finir le gérant verra l'ensemble des utilisateurs de l'application.</strong></p>
<p><strong>URL</strong> : <code>/users</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_16">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful users acquisition&quot;,
    &quot;users&quot;: [{
        &quot;id&quot;: &quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
    },{...}]
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="recuperation-dun-utilisateur">Récupération d'un utilisateur</h4>
<hr />
<p><strong>Route de récupération des informations d'un utilisateur grâce à son id.</strong></p>
<p><strong>URL</strong> : <code>/user/:id</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID de l'utilisateur cible</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_17">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful user acquisition&quot;,
    &quot;user&quot;: {
        &quot;id&quot;:&quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;type&quot; : &quot;&quot;,
        &quot;address&quot; : &quot;&quot;,
        &quot;zip&quot; : &quot;&quot;,
        &quot;city&quot; : &quot;&quot;,
        &quot;country&quot; : &quot;&quot;,
        &quot;activity&quot; : &quot;&quot;,
        &quot;numTVA&quot; : &quot;&quot;,
        &quot;numSIRET&quot; : &quot;&quot;,
        &quot;numRCS&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_14">Requête échouée</h5>
<p><strong>Condition</strong> : Id utilisateur manquant.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103101&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id utilisateur invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103102&quot;,
    &quot;message&quot;: &quot;Invalid user id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="recuperation-de-lhistorique">Récupération de l'historique</h4>
<hr />
<p><strong>Route de récupération de l'historique d'un utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/user/history/:id</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID de l'utilisateur ciblé</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_18">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful history acquisition&quot;,
    &quot;history&quot; : [{
        &quot;_id&quot;:&quot;&quot;,
        &quot;action&quot;: {
            &quot;method&quot;: &quot;&quot;,
            &quot;route&quot;: &quot;&quot;,
        },
        &quot;userEmail&quot;: &quot;&quot;,
        &quot;success&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    },{...}]
}
</code></pre>
<h5 id="requete-echouee_15">Requête échouée</h5>
<p><strong>Condition</strong> : Id utilisateur manquant.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103451&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id utilisateur invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103452&quot;,
    &quot;message&quot;: &quot;Invalid user id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="creer-un-client">Créer un client</h4>
<hr />
<p><strong>Route de création d'un client par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/customer</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>userId</td>
<td>string</td>
<td>ID de l'employé référent du client</td>
<td>-</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Nom et prénom du client ou de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email du client ou de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Mot de passe du client ou de l'entreprise</td>
<td>✔️</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Téléphone du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>Adresse du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>zip</td>
<td>string</td>
<td>Code postal du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>city</td>
<td>string</td>
<td>Ville du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>Pays du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>numTVA</td>
<td>string</td>
<td>Numéro de TVA de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>numSIRET</td>
<td>string</td>
<td>Numéro de SIRET de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>numRCS</td>
<td>string</td>
<td>Numéro de RCS de l'entreprise</td>
<td>-</td>
</tr>
</tbody>
</table>
<!-- | currency | string | Monnaie avec laquelle les factures seront générée pour le client | - | -->
<p>| note | string | Annotation sur le client sur le client | - |</p>
<h5 id="requete-reussie_19">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Customer successfully created&quot;,
    &quot;customer&quot;: {
        &quot;id&quot;:&quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;type&quot; : &quot;&quot;,
        &quot;address&quot; : &quot;&quot;,
        &quot;zip&quot; : &quot;&quot;,
        &quot;city&quot; : &quot;&quot;,
        &quot;country&quot; : &quot;&quot;,
        &quot;activity&quot; : &quot;&quot;,
        &quot;numTVA&quot; : &quot;&quot;,
        &quot;numSIRET&quot; : &quot;&quot;,
        &quot;numRCS&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_16">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103151&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103152&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de téléphone invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103153&quot;,
    &quot;message&quot;: &quot;Invalid phone number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Mot de passe invalide ou à faible sécurité.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103154&quot;,
    &quot;message&quot;: &quot;Invalid password format&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de TVA invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103155&quot;,
    &quot;message&quot;: &quot;Invalid TVA number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de SIRET invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103156&quot;,
    &quot;message&quot;: &quot;Invalid SIRET number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de RCS invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103157&quot;,
    &quot;message&quot;: &quot;Invalid RCS number&quot;
}
</code></pre>
<p><strong>Condition</strong> : L'email est déjà utilisé par un autre utilisateur.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103158&quot;,
    &quot;message&quot;: &quot;This email is already used&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id employé invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103159&quot;,
    &quot;message&quot;: &quot;Invalid employee id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modifier-un-client">Modifier un client</h4>
<hr />
<p><strong>Route de modification d'un client par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/customer</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : ``</p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID du client dont on veut modifier les informations</td>
<td>✔️</td>
</tr>
<tr>
<td>userId</td>
<td>string</td>
<td>ID de l'employé référent du client</td>
<td>-</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Nom et prénom du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Téléphone du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>Adresse du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>zip</td>
<td>string</td>
<td>Code postal du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>city</td>
<td>string</td>
<td>Ville du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>Pays du client ou de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>numTVA</td>
<td>string</td>
<td>Numéro de TVA de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>numSIRET</td>
<td>string</td>
<td>Numéro de SIRET de l'entreprise</td>
<td>-</td>
</tr>
<tr>
<td>numRCS</td>
<td>string</td>
<td>Numéro de RCS de l'entreprise</td>
<td>-</td>
</tr>
</tbody>
</table>
<!-- | currency | string | Monnaie avec laquelle les factures seront générées pour le client | - | -->
<p>| note | string | Annotation sur le client sur le client | - |</p>
<h5 id="requete-reussie_20">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Customer successfully updated&quot;,
    &quot;user&quot;: {
        &quot;id&quot;:&quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;type&quot; : &quot;&quot;,
        &quot;address&quot; : &quot;&quot;,
        &quot;zip&quot; : &quot;&quot;,
        &quot;city&quot; : &quot;&quot;,
        &quot;country&quot; : &quot;&quot;,
        &quot;activity&quot; : &quot;&quot;,
        &quot;numTVA&quot; : &quot;&quot;,
        &quot;numSIRET&quot; : &quot;&quot;,
        &quot;numRCS&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_17">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103201&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103202&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de téléphone invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103203&quot;,
    &quot;message&quot;: &quot;Invalid phone number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id du client invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103204&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de TVA invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103205&quot;,
    &quot;message&quot;: &quot;Invalid TVA number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de SIRET invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103206&quot;,
    &quot;message&quot;: &quot;Invalid SIRET number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de RCS invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103207&quot;,
    &quot;message&quot;: &quot;Invalid RCS number&quot;
}
</code></pre>
<p><strong>Condition</strong> : L'email est déjà utilisé par un autre utilisateur.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103208&quot;,
    &quot;message&quot;: &quot;This email is already used&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id employé invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103209&quot;,
    &quot;message&quot;: &quot;Invalid employee id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="supprimer-un-client">Supprimer un client</h4>
<hr />
<p><strong>Route de suppression d'un client par un employé ou un gérant. La requête ne supprimera pas réellement l'utilisateur, elle le désactivera seulement.</strong></p>
<p><strong>URL</strong> : <code>/customer/:id</code></p>
<p><strong>Methode</strong> : <code>DELETE</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID du client à supprimer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_21">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Customer successfully deleted&quot;
}
</code></pre>
<h5 id="requete-echouee_18">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103251&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id du client invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103252&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="creer-un-employe">Créer un employé</h4>
<hr />
<p><strong>Route de création d'un employé par un gérant.</strong></p>
<p><strong>URL</strong> : <code>/employee</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Nom et prénom de l'employé</td>
<td>✔️</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email de l'employé</td>
<td>✔️</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Téléphone de l'employé</td>
<td>-</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Mot de passe de l'employé</td>
<td>✔️</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Rôle de l'employé au sein de l'entreprise</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_22">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Employee successfully created&quot;,
    &quot;employee&quot;: {
        &quot;id&quot;:&quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;role&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_19">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103301&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103302&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de téléphone invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103303&quot;,
    &quot;message&quot;: &quot;Invalid phone number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Mot de passe invalide ou à faible sécurité.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103304&quot;,
    &quot;message&quot;: &quot;Invalid password format&quot;
}
</code></pre>
<p><strong>Condition</strong> : Rôle invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103305&quot;,
    &quot;message&quot;: &quot;Invalid enterprise role&quot;
}
</code></pre>
<p><strong>Condition</strong> : L'email est déjà utilisé par un autre utilisateur.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103306&quot;,
    &quot;message&quot;: &quot;This email is already used&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modifier-un-employe">Modifier un employé</h4>
<hr />
<p><strong>Route de création d'un employé par un gérant.</strong></p>
<p><strong>URL</strong> : <code>/employee</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID de l'employé à modifier</td>
<td>✔️</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Nom et prénom de l'employé</td>
<td>-</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email de l'employé</td>
<td>-</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Téléphone de l'employé</td>
<td>-</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Rôle de l'employé au sein de l'entreprise</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_23">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Employee successfully updated&quot;,
    &quot;employee&quot;: {
        &quot;id&quot;:&quot;&quot;,
        &quot;avatar&quot; : &quot;&quot;,
        &quot;name&quot; : &quot;&quot;,
        &quot;email&quot; : &quot;&quot;,
        &quot;phone&quot; : &quot;&quot;,
        &quot;role&quot; : &quot;&quot;,
        &quot;createdAt&quot; : &quot;&quot;,
        &quot;updatedAt&quot; : &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_20">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103351&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Adresse email invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103352&quot;,
    &quot;message&quot;: &quot;Invalid email addresse&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de téléphone invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103353&quot;,
    &quot;message&quot;: &quot;Invalid phone number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id de l'employé invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103354&quot;,
    &quot;message&quot;: &quot;Invalid employee id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Rôle invalide (format invalide).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103355&quot;,
    &quot;message&quot;: &quot;Invalid enterprise role&quot;
}
</code></pre>
<p><strong>Condition</strong> : L'email est déjà utilisé par un autre utilisateur.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103356&quot;,
    &quot;message&quot;: &quot;This email is already used&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="supprimer-un-employe">Supprimer un employé</h4>
<hr />
<p><strong>Route de suppression d'un employé par un gérant. La requête ne supprimera pas réellement l'employé, elle le désactivera seulement.</strong></p>
<p><strong>URL</strong> : <code>/employee/:id</code></p>
<p><strong>Methode</strong> : <code>DELETE</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID de l'employé à supprimer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_24">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Employee successfully deleted&quot;
}
</code></pre>
<h5 id="requete-echouee_21">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103401&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id de l'employé invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;103402&quot;,
    &quot;message&quot;: &quot;Invalid employee id&quot;
}
</code></pre>
<hr />
<h3 id="factures">Factures</h3>
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="liste-des-factures">Liste des factures</h4>
<hr />
<p><strong>Route de récupération de la liste de ses factures pour un client, des factures de tout ses clients pour un employé et de tous les utilisateurs pour un gérant</strong></p>
<p><strong>URL</strong> : <code>/bills</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_25">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful bills acquisition&quot;,
    &quot;bills&quot;: [{
        &quot;id&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;entrepriseId&quot;: &quot;&quot;,
        &quot;billNum&quot;: &quot;&quot;,
        &quot;articles&quot;: [{
            &quot;articleId&quot;: &quot;&quot;,
            &quot;quantity&quot;: &quot;&quot;,
        },{...}],
        &quot;totalHT&quot;: &quot;&quot;,
        &quot;totalTTC&quot;: &quot;&quot;,
        &quot;amountPaid&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
        &quot;payementDate&quot;: &quot;&quot;,
    },{...}]
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="recuperation-dune-facture">Récupération d'une facture</h4>
<hr />
<p><strong>Route de récupération d'une facture. Un client ne peut récupérer que ses factures, un employé les factures de ses clients, et un gérant les factures de tous les utilisateurs.</strong></p>
<p><strong>URL</strong> : <code>/bill/:id</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID de la facture à récupérer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_26">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful bill acquisition&quot;,
    &quot;bill&quot;: {
        &quot;id&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;entrepriseId&quot;: &quot;&quot;,
        &quot;billNum&quot;: &quot;&quot;,
        &quot;articles&quot;: [{
            &quot;articleId&quot;: &quot;&quot;,
            &quot;quantity&quot;: &quot;&quot;,
        },{...}],
        &quot;totalHT&quot;: &quot;&quot;,
        &quot;totalTTC&quot;: &quot;&quot;,
        &quot;amountPaid&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
        &quot;payementDate&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_22">Requête échouée</h5>
<p><strong>Condition</strong> : ID de facture invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104101&quot;,
    &quot;message&quot;: &quot;Invalid bill id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="creer-une-facture">Créer une facture</h4>
<hr />
<p><strong>Route de création d'une facture pour les employés et les gérants.</strong></p>
<p><strong>URL</strong> : <code>/bill</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>string</td>
<td>Statut de la facture</td>
<td>✔️</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>ID du client lié à la facture</td>
<td>✔️</td>
</tr>
<tr>
<td>entrepriseId</td>
<td>string</td>
<td>ID de l'entreprise du gérant</td>
<td>✔️</td>
</tr>
<tr>
<td>billNum</td>
<td>string</td>
<td>Numéro unique de facture</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<!-- | currency | string | Monnaie avec laquelle la facture sera généré | ✔️ | -->
<p>| deadline | date | Date limite à laquelle le client peut payer la facture | ✔️ |</p>
<h5 id="requete-reussie_27">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Bill successfuly created&quot;,
    &quot;bill&quot;: {
        &quot;id&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;entrepriseId&quot;: &quot;&quot;,
        &quot;billNum&quot;: &quot;&quot;,
        &quot;articles&quot;: [],
        &quot;totalHT&quot;: &quot;&quot;,
        &quot;totalTTC&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_23">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104151&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Statut de facture invalide (Non payée, Partiellement payée, Payée, En retard).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104152&quot;,
    &quot;message&quot;: &quot;Invalid bill status&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id du client invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104153&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de l'entreprise invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104154&quot;,
    &quot;message&quot;: &quot;Invalid enterprise id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de facture invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104155&quot;,
    &quot;message&quot;: &quot;Invalid bill number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Date d'échéance invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104156&quot;,
    &quot;message&quot;: &quot;Invalid deadline&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modifier-une-facture">Modifier une facture</h4>
<hr />
<p><strong>Route de modification d'une facture par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/bill</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID de la facture à modifier</td>
<td>✔️</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>Statut de la facture</td>
<td>-</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>ID du client lié à la facture</td>
<td>-</td>
</tr>
<tr>
<td>billNum</td>
<td>string</td>
<td>Numéro unique de facture</td>
<td>-</td>
</tr>
<tr>
<td>articles</td>
<td>array</td>
<td>Tableaux de l'ensemble des articles de la facture</td>
<td>-</td>
</tr>
</tbody>
</table>
<!-- | currency | string | Monnaie avec laquelle la facture sera généré | - | -->
<p>| deadline | date | Date limite à laquelle le client peut payer la facture | - |</p>
<h5 id="requete-reussie_28">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Bill successfully updated&quot;,
    &quot;bill&quot;: {
        &quot;id&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;entrepriseId&quot;: &quot;&quot;,
        &quot;billNum&quot;: &quot;&quot;,
        &quot;articles&quot;: [{
            &quot;articleId&quot;: &quot;&quot;,
            &quot;quantity&quot;: &quot;&quot;,
        },{...}],
        &quot;totalHT&quot;: &quot;&quot;,
        &quot;totalTTC&quot;: &quot;&quot;,
        &quot;amountPaid&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
        &quot;payementDate&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_24">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104201&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Statut de facture invalide (Non payée, Partiellement payée, Payée, En retard).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104202&quot;,
    &quot;message&quot;: &quot;Invalid bill status&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id du client invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104203&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de l'entreprise invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104204&quot;,
    &quot;message&quot;: &quot;Invalid enterprise id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de facture invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104205&quot;,
    &quot;message&quot;: &quot;Invalid bill number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Date d'échéance invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104206&quot;,
    &quot;message&quot;: &quot;Invalid deadline&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format de l'article invalide (ID ou quantité manquante).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104207&quot;,
    &quot;message&quot;: &quot;Invalid article format&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID d'un article invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104208&quot;,
    &quot;message&quot;: &quot;Some article id are invalid&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="supprimer-une-facture">Supprimer une facture</h4>
<hr />
<p><strong>Route de suppression d'une facture par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/bill/:id</code></p>
<p><strong>Methode</strong> : <code>DELETE</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID de la facture à supprimer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_29">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Bill successfully deleted&quot;
}
</code></pre>
<h5 id="requete-echouee_25">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104251&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de facture invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104252&quot;,
    &quot;message&quot;: &quot;Invalid bill id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="relancer-un-client-sur-une-facture">Relancer un client sur une facture</h4>
<hr />
<p><strong>Route d'envoi d'un email et d'une notification pour la relance sur le payement d'une facture.</strong></p>
<p><strong>URL</strong> : <code>/bill/:billId/customer/:clientId/mail</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>billId</td>
<td>string</td>
<td>ID de la facture</td>
<td>✔️</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>ID du client lié à la facture</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_30">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Mail successfully send&quot;
}
</code></pre>
<h5 id="requete-echouee_26">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104301&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id de la facture invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104302&quot;,
    &quot;message&quot;: &quot;Invalid bill id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id du client invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104153&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<hr />
<h3 id="devis">Devis</h3>
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="liste-des-devis">Liste des devis</h4>
<hr />
<p><strong>Route de récupération de la liste de ses devis pour un client, des devis de tout ses clients pour un employé et de tous les utilisateurs pour un gérant.</strong></p>
<p><strong>URL</strong> : <code>/estimates</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_31">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful etimates acquisition&quot;,
    &quot;estimates&quot;: [{
        &quot;id&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;entrepriseId&quot;: &quot;&quot;,
        &quot;estimateNum&quot;: &quot;&quot;,
        &quot;articles&quot;: [{
            &quot;articleId&quot;: &quot;&quot;,
            &quot;quantity&quot;: &quot;&quot;,
        },{...}],
        &quot;totalHT&quot;: &quot;&quot;,
        &quot;totalTTC&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    },{...}]
}
</code></pre>
<h5 id="requete-echouee_27">Requête échouée</h5>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="recuperation-dun-devis">Récupération d'un devis</h4>
<hr />
<p><strong>Route de récupération d'un devis. Un client ne peut récupérer que ses devis, un employé les devis de ses clients, et un gérant les devis de tous les utilisateurs.</strong></p>
<p><strong>URL</strong> : <code>/estimate/:id</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID du devis à récupérer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_32">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful bill acquisition&quot;,
    &quot;estimate&quot;: {
        &quot;id&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;entrepriseId&quot;: &quot;&quot;,
        &quot;estimateNum&quot;: &quot;&quot;,
        &quot;articles&quot;: [{
            &quot;articleId&quot;: &quot;&quot;,
            &quot;quantity&quot;: &quot;&quot;,
        },{...}],
        &quot;totalHT&quot;: &quot;&quot;,
        &quot;totalTTC&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_28">Requête échouée</h5>
<p><strong>Condition</strong> : ID de devis invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105101&quot;,
    &quot;message&quot;: &quot;Invalid estimate id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="creer-un-devis">Créer un devis</h4>
<hr />
<p><strong>Route de création d'un devis pour les employés et les gérants.</strong></p>
<p><strong>URL</strong> : <code>/estimate</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>string</td>
<td>Statut du devis</td>
<td>✔️</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>ID du client lié au devis</td>
<td>✔️</td>
</tr>
<tr>
<td>entrepriseId</td>
<td>string</td>
<td>ID de l'entreprise du gérant</td>
<td>✔️</td>
</tr>
<tr>
<td>estimateNum</td>
<td>string</td>
<td>Numéro unique de devis</td>
<td>✔️</td>
</tr>
<tr>
<td>deadline</td>
<td>date</td>
<td>Date limite à laquelle le client peut accepter le devis</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_33">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;estimate successfuly created&quot;,
    &quot;estimate&quot;: {
        &quot;id&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;entrepriseId&quot;: &quot;&quot;,
        &quot;estimateNum&quot;: &quot;&quot;,
        &quot;articles&quot;: [],
        &quot;totalHT&quot;: &quot;&quot;,
        &quot;totalTTC&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_29">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105151&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Statut du devis invalide (En attente, Refusé, Accepté, En retard).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105152&quot;,
    &quot;message&quot;: &quot;Invalid estimate status&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID du client invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105153&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de l'entreprise invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105154&quot;,
    &quot;message&quot;: &quot;Invalid enterprise id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de devis invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105155&quot;,
    &quot;message&quot;: &quot;Invalid estimate number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Date d'échéance invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105156&quot;,
    &quot;message&quot;: &quot;Invalid deadline&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modifier-un-devis">Modifier un devis</h4>
<hr />
<p><strong>Route de modification d'un devis par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/estimate</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID du devis à modifier</td>
<td>✔️</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>Statut du devis</td>
<td>-</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>ID du client lié au devis</td>
<td>-</td>
</tr>
<tr>
<td>estimateNum</td>
<td>string</td>
<td>Numéro unique de devis</td>
<td>-</td>
</tr>
<tr>
<td>articles</td>
<td>array</td>
<td>Tableaux de l'ensemble des articles du devis</td>
<td>-</td>
</tr>
<tr>
<td>deadline</td>
<td>date</td>
<td>Date limite à laquelle le client peut payer le devis</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_34">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Estimate successfully updated&quot;,
    &quot;estimate&quot;: {
        &quot;id&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;entrepriseId&quot;: &quot;&quot;,
        &quot;billNum&quot;: &quot;&quot;,
        &quot;articles&quot;: [{
            &quot;articleId&quot;: &quot;&quot;,
            &quot;quantity&quot;: &quot;&quot;,
        },{...}],
        &quot;totalHT&quot;: &quot;&quot;,
        &quot;totalTTC&quot;: &quot;&quot;,
        &quot;amountPaid&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
        &quot;payementDate&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_30">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105201&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Statut du devis invalide (En attente, Refusé, Accepté, En retard).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105202&quot;,
    &quot;message&quot;: &quot;Invalid estimate status&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id du client invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105203&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de l'entreprise invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105204&quot;,
    &quot;message&quot;: &quot;Invalid enterprise id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de devis invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105205&quot;,
    &quot;message&quot;: &quot;Invalid estimate number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Date d'échéance invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105206&quot;,
    &quot;message&quot;: &quot;Invalid deadline&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format de l'article invalide (ID ou quantité manquante).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105207&quot;,
    &quot;message&quot;: &quot;Invalid article format&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID d'un article invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105208&quot;,
    &quot;message&quot;: &quot;Some article id are invalid&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="supprimer-un-devis">Supprimer un devis</h4>
<hr />
<p><strong>Route de suppression d'un devis par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/estimate/:id</code></p>
<p><strong>Methode</strong> : <code>DELETE</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID du devis à supprimer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_35">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Estimate successfully deleted&quot;
}
</code></pre>
<h5 id="requete-echouee_31">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105251&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de devis invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105252&quot;,
    &quot;message&quot;: &quot;Invalid estimate id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="relancer-un-client-sur-un-devis">Relancer un client sur un devis</h4>
<hr />
<p><strong>Route d'envoi d'un email et d'une notification pour la relance de l'acceptation d'un devis.</strong></p>
<p><strong>URL</strong> : <code>/estimate/:estimateId/customer/:clientId/mail</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>estimateId</td>
<td>string</td>
<td>ID du devis</td>
<td>✔️</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>ID du client lié au devis</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_36">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Mail successfully send&quot;
}
</code></pre>
<h5 id="requete-echouee_32">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105301&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id du devis invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105302&quot;,
    &quot;message&quot;: &quot;Invalid estimate id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id du client invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105303&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="transformer-un-devis-en-facture">Transformer un devis en facture</h4>
<hr />
<p><strong>Route de transformation d'un devis en une facture en respectant les articles.</strong></p>
<p><strong>URL</strong> : <code>/estimate/:estimateId/customer/:clientId/mail</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>estimateId</td>
<td>string</td>
<td>ID du devis</td>
<td>✔️</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>ID du client lié au devis</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_37">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Mail successfully send&quot;
}
</code></pre>
<h5 id="requete-echouee_33">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105351&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id du devis invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105352&quot;,
    &quot;message&quot;: &quot;Invalid estimate id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id du client invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105353&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Statut du devis invalide (déjà accepté).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;105354&quot;,
    &quot;message&quot;: &quot;Invalid estimate status&quot;
}
</code></pre>
<hr />
<h3 id="articles">Articles</h3>
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="liste-des-articles">Liste des articles</h4>
<hr />
<p><strong>Route de récupération de la liste des articles pour un gérant ou un employé.</strong></p>
<p><strong>URL</strong> : <code>/articles</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_38">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful articles acquisition&quot;,
    &quot;articles&quot;: [{
        &quot;_id&quot;: &quot;&quot;,
        &quot;name&quot;: &quot;&quot;,
        &quot;tva&quot;: &quot;&quot;,
        &quot;price&quot;: &quot;&quot;,
        &quot;accountNumber&quot;: &quot;&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    },{...}]
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="creer-un-article">Créer un article</h4>
<hr />
<p><strong>Route de création d'un article pour un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/article</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Nom de l'article</td>
<td>✔️</td>
</tr>
<tr>
<td>accountNumber</td>
<td>number</td>
<td>Numéro de compte comptable de l'article</td>
<td>✔️</td>
</tr>
<tr>
<td>price</td>
<td>number</td>
<td>Prix unitaire de l'article</td>
<td>✔️</td>
</tr>
<tr>
<td>tva</td>
<td>number</td>
<td>TVA appliqué à l'article</td>
<td>✔️</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Description de l'article</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_39">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Article successfully created&quot;,
    &quot;article&quot;: {
        &quot;_id&quot;: &quot;&quot;,
        &quot;name&quot;: &quot;&quot;,
        &quot;tva&quot;: &quot;&quot;,
        &quot;price&quot;: &quot;&quot;,
        &quot;accountNumber&quot;: &quot;&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    } 

}
</code></pre>
<h5 id="requete-echouee_34">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;106101&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de compte invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;106102&quot;,
    &quot;message&quot;: &quot;Invalid account number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format du prix invalide (Float).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;106103&quot;,
    &quot;message&quot;: &quot;Invalid price format&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format de la taxe invalide (Float).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;106104&quot;,
    &quot;message&quot;: &quot;Invalid tva format&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="supprimer-un-article">Supprimer un article</h4>
<hr />
<p><strong>Route de suppression d'un article par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/article/:id</code></p>
<p><strong>Methode</strong> : <code>DELETE</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID de l'article à supprimer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_40">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Article successfully deleted&quot;
}
</code></pre>
<h5 id="requete-echouee_35">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;106151&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de l'article invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;106152&quot;,
    &quot;message&quot;: &quot;Invalid article id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h3 id="projets">Projets</h3>
<h4 id="liste-des-projets">Liste des projets</h4>
<hr />
<p><strong>Route de récupération de la liste des projets pour un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/projects</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_41">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful projects acquisition&quot;,
    &quot;projects&quot;: [{
        &quot;projectNum&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;&quot;,
        &quot;title&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;progression&quot;: &quot;&quot;,
        &quot;startDate&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;employees&quot;:  [&quot;&quot;],
        &quot;fixedRate&quot;: &quot;&quot;,
        &quot;hourlyRate&quot;: &quot;&quot;,
        &quot;estimateHour&quot;: &quot;&quot;,
    },{...}]
}

</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="recuperation-dun-projet">Récupération d'un projet</h4>
<hr />
<p><strong>Route de récupération d'un projet pour un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/project/:id</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID du projet à récupérer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_42">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful project acquisition&quot;,
    &quot;projects&quot;: [{
        &quot;projectNum&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;&quot;,
        &quot;title&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;progression&quot;: &quot;&quot;,
        &quot;startDate&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;employees&quot;:  [&quot;&quot;],
        &quot;fixedRate&quot;: &quot;&quot;,
        &quot;hourlyRate&quot;: &quot;&quot;,
        &quot;estimateHour&quot;: &quot;&quot;,
    }]
}

</code></pre>
<h5 id="requete-echouee_36">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108101&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID du projet invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108102&quot;,
    &quot;message&quot;: &quot;Invalid project id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="creer-un-projet">Créer un projet</h4>
<hr />
<p><strong>Route de création d'un projet par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/project</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>projectNum</td>
<td>string</td>
<td>Numéro unique de projet</td>
<td>✔️</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Titre du projet</td>
<td>✔️</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>Statut d'avancement du projet</td>
<td>✔️</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>ID du client lié au projet</td>
<td>✔️</td>
</tr>
<tr>
<td>progression</td>
<td>number</td>
<td>Progression du projet</td>
<td>-</td>
</tr>
<tr>
<td>startDate</td>
<td>date</td>
<td>Date de début du projet</td>
<td>-</td>
</tr>
<tr>
<td>deadline</td>
<td>date</td>
<td>Date d'échéance du projet</td>
<td>✔️</td>
</tr>
<tr>
<td>employees</td>
<td>string</td>
<td>Liste des employés liés au projet</td>
<td>✔️</td>
</tr>
<tr>
<td>fixedRate</td>
<td>date</td>
<td>Taux fixe</td>
<td>-</td>
</tr>
<tr>
<td>hourlyRate</td>
<td>date</td>
<td>Taux horaire</td>
<td>-</td>
</tr>
<tr>
<td>estimateHour</td>
<td>number</td>
<td>Nombre d'heure estimé du projet</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_43">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Project successfully created&quot;,
    &quot;project&quot;: {
        &quot;projectNum&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;&quot;,
        &quot;title&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;progression&quot;: &quot;&quot;,
        &quot;startDate&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;employees&quot;:  [&quot;&quot;],
        &quot;fixedRate&quot;: &quot;&quot;,
        &quot;hourlyRate&quot;: &quot;&quot;,
        &quot;estimateHour&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_37">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108151&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Statut du projet invalide (En attente, En cours, Terminé, En retard).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108152&quot;,
    &quot;message&quot;: &quot;Invalid project status&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID du client invalid.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108153&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de projet invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108154&quot;,
    &quot;message&quot;: &quot;Invalid project number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de progression invalide (0-100).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108155&quot;,
    &quot;message&quot;: &quot;Invalid progression number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Date d'échéance invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108156&quot;,
    &quot;message&quot;: &quot;Invalid deadline&quot;
}
</code></pre>
<p><strong>Condition</strong> : Si un ID employé est invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108157&quot;,
    &quot;message&quot;: &quot;Some employee id are invalid&quot;
}
</code></pre>
<p><strong>Condition</strong> : Si le taux horaire et le taux fixe sont renseigné en même temps.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108158&quot;,
    &quot;message&quot;: &quot;You can't have both billing systems active&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format de taxe fixe invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108159&quot;,
    &quot;message&quot;: &quot;Invalid fixed rate&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format de taxe horaire invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108160&quot;,
    &quot;message&quot;: &quot;Invalid hourly rate&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format du temps estimé invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108161&quot;,
    &quot;message&quot;: &quot;Invalid estimate hour&quot;
}
</code></pre>
<p><strong>Condition</strong> : Date de début situé après la date d'échéance.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108162&quot;,
    &quot;message&quot;: &quot;Start date can't be set after deadline&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modifier-un-projet">Modifier un projet</h4>
<hr />
<p><strong>Route de modification d'un projet par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/project</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID du projet à modifier</td>
<td>✔️</td>
</tr>
<tr>
<td>projectNum</td>
<td>string</td>
<td>Numéro unique de projet</td>
<td>-</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Titre du projet</td>
<td>-</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>Statut d'avancement du projet</td>
<td>-</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>ID du client lié au projet</td>
<td>-</td>
</tr>
<tr>
<td>progression</td>
<td>number</td>
<td>Progression du projet</td>
<td>-</td>
</tr>
<tr>
<td>startDate</td>
<td>date</td>
<td>Date de début du projet</td>
<td>-</td>
</tr>
<tr>
<td>deadline</td>
<td>date</td>
<td>Date d'échéance du projet</td>
<td>-</td>
</tr>
<tr>
<td>employees</td>
<td>array</td>
<td>Liste des employés liés au projet</td>
<td>-</td>
</tr>
<tr>
<td>fixedRate</td>
<td>date</td>
<td>Taux fixe</td>
<td>-</td>
</tr>
<tr>
<td>hourlyRate</td>
<td>date</td>
<td>Taux horaire</td>
<td>-</td>
</tr>
<tr>
<td>estimateHour</td>
<td>number</td>
<td>Nombre d'heures estimées à la réalisation du projet</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_44">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Project successfully updated&quot;,
    &quot;project&quot;: {
        &quot;projectNum&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;&quot;,
        &quot;title&quot;: &quot;&quot;,
        &quot;status&quot;: &quot;&quot;,
        &quot;clientId&quot;: &quot;&quot;,
        &quot;progression&quot;: &quot;&quot;,
        &quot;startDate&quot;: &quot;&quot;,
        &quot;deadline&quot;: &quot;&quot;,
        &quot;employees&quot;:  [&quot;&quot;],
        &quot;fixedRate&quot;: &quot;&quot;,
        &quot;hourlyRate&quot;: &quot;&quot;,
        &quot;estimateHour&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_38">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108201&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Statut du projet invalide (En attente, En cours, Terminé, En retard).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108202&quot;,
    &quot;message&quot;: &quot;Invalid project status&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID du client invalid.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108203&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de projet invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108204&quot;,
    &quot;message&quot;: &quot;Invalid project number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de progression invalide (0-100).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108205&quot;,
    &quot;message&quot;: &quot;Invalid progression number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Date d'échéance invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108206&quot;,
    &quot;message&quot;: &quot;Invalid deadline&quot;
}
</code></pre>
<p><strong>Condition</strong> : Si un ID employé est invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108207&quot;,
    &quot;message&quot;: &quot;Some employee id are invalid&quot;
}
</code></pre>
<p><strong>Condition</strong> : Si le taux horaire et le taux fixe sont renseigné en même temps.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108208&quot;,
    &quot;message&quot;: &quot;You can't have both billing systems active&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format de taxe fixe invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108209&quot;,
    &quot;message&quot;: &quot;Invalid fixed rate&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format de taxe horaire invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108210&quot;,
    &quot;message&quot;: &quot;Invalid hourly rate&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format du temps estimé invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108211&quot;,
    &quot;message&quot;: &quot;Invalid estimate hour&quot;
}
</code></pre>
<p><strong>Condition</strong> : Date de début situé après la date d'échéance.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108212&quot;,
    &quot;message&quot;: &quot;Start date can't be set after deadline&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="supprimer-un-projet">Supprimer un projet</h4>
<hr />
<p><strong>Route de suppression d'un projet par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/project/:id</code></p>
<p><strong>Methode</strong> : <code>DELETE</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID du projet à supprimer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_45">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Project successfully deleted&quot;,
}
</code></pre>
<h5 id="requete-echouee_39">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108251&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID du projet invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108252&quot;,
    &quot;message&quot;: &quot;Invalid project id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="transformer-un-projet-en-facture">Transformer un projet en facture</h4>
<hr />
<p><strong>Route de transformation d'un projet par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/project/transform/:id</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID du projet à transformer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_46">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Project successfully transformed&quot;,
    &quot;billId&quot;: &quot;&quot;,
}
</code></pre>
<h5 id="requete-echouee_40">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108301&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID du projet invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;108302&quot;,
    &quot;message&quot;: &quot;Invalid project id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h3 id="temps">Temps</h3>
<h4 id="liste-des-temps-enregistres">Liste des temps enregistrés</h4>
<hr />
<p><strong>Route de récupération de la liste des temps enregistrés pour un projet.</strong></p>
<p><strong>URL</strong> : <code>/times</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID du projet pour lequel on veut récupérer les temps</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_47">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful times acquisition&quot;,
    &quot;times&quot;: [{
        &quot;id&quot;: &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;projectId&quot;: &quot;&quot;,
        &quot;taskName&quot;: &quot;&quot;,
        &quot;billable&quot;: &quot;&quot;,
        &quot;duration&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    },{...}]
}
</code></pre>
<h5 id="requete-echouee_41">Requête échouée</h5>
<p><strong>Condition</strong> : ID du projet invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;110051&quot;,
    &quot;message&quot;: &quot;Invalid project id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="creer-un-enregistrement-de-temps">Créer un enregistrement de temps</h4>
<hr />
<p><strong>Route de création d'un enregistrement de temps par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/time</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>userId</td>
<td>string</td>
<td>ID de l'employé ou le gérant enregistrant le temps</td>
<td>✔️</td>
</tr>
<tr>
<td>taskName</td>
<td>string</td>
<td>Nom de la tâche liée au temps</td>
<td>-</td>
</tr>
<tr>
<td>projectId</td>
<td>string</td>
<td>ID du projet lié au temps enregistré</td>
<td>✔️</td>
</tr>
<tr>
<td>billable</td>
<td>boolean</td>
<td>Booléen pour savoir si le temps est factirable ou non</td>
<td>✔️</td>
</tr>
<tr>
<td>duration</td>
<td>number</td>
<td>Durée estimé de la tâche en heure</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_48">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Time successfully created&quot;, 
    &quot;time&quot;: {
        &quot;id&quot;: &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;taskName&quot;: &quot;&quot;,
        &quot;projectId&quot;: &quot;&quot;,
        &quot;billable&quot;: &quot;&quot;,
        &quot;duration&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_42">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;110101&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de projet invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;110102&quot;,
    &quot;message&quot;: &quot;Invalid project id&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de la tâche invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;110103&quot;,
    &quot;message&quot;: &quot;Invalid task id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format du champs facturable invalide (booléen).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;110104&quot;,
    &quot;message&quot;: &quot;Invalid billable format&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format de la durée invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;110105&quot;,
    &quot;message&quot;: &quot;Invalid duration number&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modifier-un-enregistrement-de-temps">Modifier un enregistrement de temps</h4>
<hr />
<p><strong>Route de modification d'un enregistrement de temps par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/time</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID du temps enregistré</td>
<td>✔️</td>
</tr>
<tr>
<td>billable</td>
<td>boolean</td>
<td>Booléen pour savoir si le temps est factirable ou non</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_49">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Time successfully updated&quot;, 
    &quot;time&quot;: {
        &quot;id&quot;: &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;taskName&quot;: &quot;&quot;,
        &quot;projectId&quot;: &quot;&quot;,
        &quot;billable&quot;: &quot;&quot;,
        &quot;duration&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_43">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;110151&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID du temps invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;110152&quot;,
    &quot;message&quot;: &quot;Invalid time id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format du champs facturable invalide (booléen).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;110153&quot;,
    &quot;message&quot;: &quot;Invalid billable format&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="supprimer-un-enregistrement-de-temps">Supprimer un enregistrement de temps</h4>
<hr />
<p><strong>Route de suppression d'un enregistrement de temps par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/time/:id</code></p>
<p><strong>Methode</strong> : <code>DELETE</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID du temps à supprimer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_50">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Time successfully deleted&quot;
}
</code></pre>
<h5 id="requete-echouee_44">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;110201&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID du temps invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;110202&quot;,
    &quot;message&quot;: &quot;Invalid time id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h3 id="depenses">Dépenses</h3>
<h4 id="liste-des-depenses">Liste des dépenses</h4>
<hr />
<p><strong>Route de récupération de la liste des dépenses pour un gérant ou un employé.</strong></p>
<p><strong>URL</strong> : <code>/expenses/:projectId</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>projectId</td>
<td>string</td>
<td>ID du projet pour lequel on veut récupérer les dépenses</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_51">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful expenses acquisition&quot;,
    &quot;expenses&quot;: [{
        &quot;expenseNum&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;&quot;,
        &quot;price&quot;: &quot;&quot;,
        &quot;accountNumber&quot;: &quot;&quot;,
        &quot;category&quot;: &quot;&quot;,
        &quot;file&quot;: &quot;&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;projectId&quot;: &quot;&quot;,
        &quot;billable&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    },{...}]
}
</code></pre>
<h5 id="requete-echouee_45">Requête échouée</h5>
<p><strong>Condition</strong> : ID du projet invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111001&quot;,
    &quot;message&quot;: &quot;Invalid project id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="recuperation-dune-depense">Récupération d'une dépense</h4>
<hr />
<p><strong>Route de récupération d'une dépense pour un gérant ou un employé.</strong></p>
<p><strong>URL</strong> : <code>/expense/:id</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID de la dépense que l'on veut récupérer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_52">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful expense acquisition&quot;,
    &quot;expense&quot;: {
        &quot;expenseNum&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;&quot;,
        &quot;price&quot;: &quot;&quot;,
        &quot;accountNumber&quot;: &quot;&quot;,
        &quot;category&quot;: &quot;&quot;,
        &quot;file&quot;: &quot;&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;projectId&quot;: &quot;&quot;,
        &quot;billable&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_46">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111051&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de la dépense invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111052&quot;,
    &quot;message&quot;: &quot;Invalid expense id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->

<h4 id="creer-une-depense">Créer une dépense</h4>
<hr />
<p><strong>Route de création d'une note de frais pour les employés et les gérants.</strong></p>
<p><strong>URL</strong> : <code>/expense</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>expenseNum</td>
<td>string</td>
<td>Numéro unique de dépense</td>
<td>✔️</td>
</tr>
<tr>
<td>projectId</td>
<td>string</td>
<td>ID du projet lié à la dépense</td>
<td>✔️</td>
</tr>
<tr>
<td>price</td>
<td>number</td>
<td>Montant de la dépense</td>
<td>✔️</td>
</tr>
<tr>
<td>accountNumber</td>
<td>number</td>
<td>Numéro de compte comptable de la dépense</td>
<td>✔️</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>Category de dépense</td>
<td>✔️</td>
</tr>
<tr>
<td>billable</td>
<td>boolean</td>
<td>Booléen pour savoir si la dépense est facturé ou non</td>
<td>✔️</td>
</tr>
<tr>
<td>file</td>
<td>file</td>
<td>Document de justification de la dépense</td>
<td>-</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Description de la dépense</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_53">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Expense successfully created&quot;, 
    &quot;expense&quot;: {
        &quot;expenseNum&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;&quot;,
        &quot;price&quot;: &quot;&quot;,
        &quot;accountNumber&quot;: &quot;&quot;,
        &quot;category&quot;: &quot;&quot;,
        &quot;file&quot;: &quot;&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;projectId&quot;: &quot;&quot;,
        &quot;billable&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_47">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111101&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de note de frais invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111102&quot;,
    &quot;message&quot;: &quot;Invalid expense number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Numéro de compte invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111103&quot;,
    &quot;message&quot;: &quot;Invalid account number&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format du prix invalide (Float).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111104&quot;,
    &quot;message&quot;: &quot;Invalid price format&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format du champ facturable invalide (booléen).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111105&quot;,
    &quot;message&quot;: &quot;Invalid invoiced format&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id du projet invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111106&quot;,
    &quot;message&quot;: &quot;Invalid project id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="modifier-une-depense">Modifier une dépense</h4>
<hr />
<p><strong>Route de modification d'une dépense par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/expense</code></p>
<p><strong>Methode</strong> : <code>PUT</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID de la dépense à modifier</td>
<td>✔️</td>
</tr>
<tr>
<td>billable</td>
<td>boolean</td>
<td>Booléen pour savoir si la dépense est facturé ou non</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_54">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Expense successfully updated&quot;
}
</code></pre>
<h5 id="requete-echouee_48">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111151&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de la dépense invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111152&quot;,
    &quot;message&quot;: &quot;Invalid expense id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="supprimer-une-depense">Supprimer une dépense</h4>
<hr />
<p><strong>Route de suppression d'une dépense par un employé ou un gérant.</strong></p>
<p><strong>URL</strong> : <code>/expense/:id</code></p>
<p><strong>Methode</strong> : <code>DELETE</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID de la dépense à supprimer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_55">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Expense successfully deleted&quot;
}
</code></pre>
<h5 id="requete-echouee_49">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111201&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de la dépense invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;111202&quot;,
    &quot;message&quot;: &quot;Invalid expense id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h3 id="conversations">Conversations</h3>
<h4 id="liste-des-conversations">Liste des conversations</h4>
<hr />
<p><strong>Route de récupération de la liste des conversation d'un utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/conversations</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_56">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful conversations acquisition&quot;,
    &quot;conversations&quot;: [{
        &quot;id&quot;: &quot;&quot;,
        &quot;member1&quot;: &quot;&quot;,
        &quot;member2&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
        &quot;lastMessage&quot;: &quot;&quot;,
    },{...}]
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="recuperation-dune-conversation">Récupération d'une conversation</h4>
<hr />
<p><strong>Route de récupération d'une conversation avec un autre utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/conversation/:id</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID de la conversation</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_57">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful conversation acquisition&quot;,
    &quot;conversation&quot;: {
        &quot;id&quot;: &quot;&quot;,
        &quot;member1&quot;: &quot;&quot;,
        &quot;member2&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
        &quot;lastMessage&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_50">Requête échouée</h5>
<p><strong>Condition</strong> : ID de la conversation manquante.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;112201&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de la conversation invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;112202&quot;,
    &quot;message&quot;: &quot;Invalid conversation id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="recuperation-des-messages-dune-conversation">Récupération des messages d'une conversation</h4>
<hr />
<p><strong>Route de récupération des messages d'une conversation avec un autre utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/conversation/:id/messages</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID de la conversation</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_58">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful conversation messages acquisition&quot;,
    &quot;messages&quot;: [{
        &quot;conversationId&quot;: &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;text&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    },{...}]
}
</code></pre>
<h5 id="requete-echouee_51">Requête échouée</h5>
<p><strong>Condition</strong> : ID de la conversation manquante.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;112251&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de la conversation invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;112252&quot;,
    &quot;message&quot;: &quot;Invalid conversation id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="creer-une-conversation">Créer une conversation</h4>
<hr />
<p><strong>Route de création d'une conversation par un utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/conversation</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>userId</td>
<td>string</td>
<td>ID de l' utilisateur avec lequel on veut créer une conversation</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_59">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Conversation successfully created&quot;,
    &quot;conversation&quot;: {
        &quot;id&quot;: &quot;&quot;,
        &quot;member1&quot;: &quot;&quot;,
        &quot;member2&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
        &quot;lastMessage&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_52">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;112101&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Si l'on créer une conversation avec soit même</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;112102&quot;,
    &quot;message&quot;: &quot;Can't create conversation with yourself&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de l'utilisateur invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;112103&quot;,
    &quot;message&quot;: &quot;Invalid user id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="supprimer-une-conversation">Supprimer une conversation</h4>
<hr />
<p><strong>Route de suppression d'une conversation par un utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/conversation/:id</code></p>
<p><strong>Methode</strong> : <code>DELETE</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID de la conversation à supprimer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_60">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Conversation successfully deleted&quot;
}
</code></pre>
<h5 id="requete-echouee_53">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;112151&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de la conversation invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;112152&quot;,
    &quot;message&quot;: &quot;Invalid conversation id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h3 id="notifications">Notifications</h3>
<h4 id="liste-des-notifications">Liste des notifications</h4>
<hr />
<p><strong>Route de récupération de la liste des notifications d'un utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/notifications</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_61">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful notifications acquisition&quot;,
    &quot;conversations&quot;: [{
        &quot;id&quot;: &quot;&quot;,
        &quot;title&quot;: &quot;&quot;,
        &quot;message&quot;: &quot;&quot;,
        &quot;catergory&quot;: &quot;&quot;,
        &quot;targetId&quot;: &quot;&quot;,
        &quot;userId&quot;: &quot;&quot;,
        &quot;seen&quot;: &quot;&quot;,
        &quot;createdAt&quot;: &quot;&quot;,
        &quot;updatedAt&quot;: &quot;&quot;,
    },{...}]
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="compteur-de-notification">Compteur de notification</h4>
<hr />
<p><strong>Route de récupération du nombre de notifications non lu.</strong></p>
<p><strong>URL</strong> : <code>/notifications/count</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_62">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful notifications count acquisition&quot;,
    &quot;count&quot;: &quot;&quot;,
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="supprimer-une-notification">Supprimer une notification</h4>
<hr />
<p><strong>Route de suppression d'une notification par un utilisateur.</strong></p>
<p><strong>URL</strong> : <code>/notification/:id</code></p>
<p><strong>Methode</strong> : <code>DELETE</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID de la notification à supprimer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_63">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Notification successfully deleted&quot;
}
</code></pre>
<h5 id="requete-echouee_54">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;113101&quot;,
    &quot;message&quot;: &quot;Missing id field&quot;
}
</code></pre>
<p><strong>Condition</strong> : ID de la notification invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;113102&quot;,
    &quot;message&quot;: &quot;Invalid notification id&quot;
}
</code></pre>
<hr />
<h3 id="paiement">Paiement</h3>
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="generation-des-informations-pour-le-paiement">Génération des informations pour le paiement</h4>
<hr />
<p><strong>Route pour effectuer un paiement.</strong></p>
<p><strong>URL</strong> : <code>/bill/payment-sheet</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>montant à payer</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_64">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;paymentIntent&quot;: &quot;&quot;,
    &quot;ephemeralKey&quot;: &quot;&quot;,
    &quot;customer&quot;: &quot;&quot;
}
</code></pre>
<h5 id="requete-echouee_55">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104351&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="effectuer-un-paiement">Effectuer un paiement</h4>
<hr />
<p><strong>Route pour effectuer un paiement.</strong></p>
<p><strong>URL</strong> : <code>/bill/payment/:id</code></p>
<p><strong>Methode</strong> : <code>POST</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>ID de la facture pour le paiement</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_65">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Bill successfully payed&quot;,

}
</code></pre>
<h5 id="requete-echouee_56">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104401&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Id de la facture invalide.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104402&quot;,
    &quot;message&quot;: &quot;Invalid bill id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Statut de la facture invalide (déjà payée).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;104403&quot;,
    &quot;message&quot;: &quot;Invalid bill status&quot;
}
</code></pre>
<hr />
<h3 id="statistiques">Statistiques</h3>
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="obtenir-les-statistiques">Obtenir les statistiques</h4>
<hr />
<p><strong>Route de récupération des statistiques pour la page d'accueil.</strong></p>
<p><strong>URL</strong> : <code>/global/statistics</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_66">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;statistics&quot;: {
        &quot;gainTotal&quot;: &quot;&quot;,
        &quot;expenseTotal&quot;: &quot;&quot;,
        &quot;employeeTotal&quot;: &quot;&quot;,
        &quot;customerTotal&quot;: &quot;&quot;,
        &quot;projectTotal&quot;: &quot;&quot;,
        &quot;projectTimeTotal&quot;: &quot;&quot;,
        &quot;billUnpaidTotal&quot;: &quot;&quot;,
        &quot;billUnpaidAmountTotal&quot;: &quot;&quot;,
    }
}
</code></pre>
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->

<h3 id="routes-globales">Routes globales</h3>
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="obtenir-un-numero-pour-la-creation-dun-document">Obtenir un numéro pour la création d'un document</h4>
<hr />
<p><strong>Route de récupération du prochain numéro disponible pour un document.</strong></p>
<p><strong>URL</strong> : <code>/global/nextNumber&amp;acronym=''</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>&amp;acronym</td>
<td>string</td>
<td>Acronyme du document pour lequel on veut récupérer le numéro (FAC, DEV, PRO, EXP, etc...)</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_67">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Successful statistic acquisition&quot;,
    &quot;statistics&quot;: {
        &quot;gainTotal&quot;: &quot;&quot;,
        &quot;expenseTotal&quot;: &quot;&quot;,
        &quot;employeeTotal&quot;: &quot;&quot;,
        &quot;customerTotal&quot;: &quot;&quot;,
        &quot;projectTotal&quot;: &quot;&quot;,
        &quot;projectTimeTotal&quot;: &quot;&quot;,
        &quot;billUnpaidTotal&quot;: &quot;&quot;,
        &quot;billUnpaidAmountTotal&quot;: &quot;&quot;,
    }
}
</code></pre>
<h5 id="requete-echouee_57">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;114001&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->
<h4 id="generation-dun-document">Génération d'un document</h4>
<hr />
<p><strong>Route de génération d'un document en pdf pour l'envoyer par mail.</strong></p>
<p><strong>URL</strong> : <code>/global/generateInvoice/:type/:id</code></p>
<p><strong>Methode</strong> : <code>GET</code></p>
<p><strong>Token requis</strong> : <code>OUI</code></p>
<p><strong>Paramètres de la requête</strong></p>
<table>
<thead>
<tr>
<th>Paramètres</th>
<th>Type</th>
<th>Description</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td>:id</td>
<td>string</td>
<td>Id du document pour lequel</td>
<td>✔️</td>
</tr>
<tr>
<td>:type</td>
<td>string</td>
<td>Précision du type de document (bill, estimate)</td>
<td>✔️</td>
</tr>
</tbody>
</table>
<h5 id="requete-reussie_68">Requête réussie</h5>
<p><strong>Code</strong> : <code>200</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: false,
    &quot;message&quot;: &quot;Document successfully send&quot;
}
</code></pre>
<h5 id="requete-echouee_58">Requête échouée</h5>
<p><strong>Condition</strong> : Champs obligatoires manquants.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;114051&quot;,
    &quot;message&quot;: &quot;Missing important fields&quot;
}
</code></pre>
<p><strong>Condition</strong> : Format du type invalide (estimate, bill).</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;114052&quot;,
    &quot;message&quot;: &quot;Invalid type field&quot;
}
</code></pre>
<p><strong>Condition</strong> : Le client n'existe plus.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;114053&quot;,
    &quot;message&quot;: &quot;Invalid customer id&quot;
}
</code></pre>
<p><strong>Condition</strong> : Le document n'existe pas.</p>
<p><strong>Code</strong> : <code>400</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;114054&quot;,
    &quot;message&quot;: &quot;Invalid file id&quot;
}
</code></pre>
<hr />
<!-- --------------------------------------------------------------------------------------------------------------------------------------------- -->

<h3 id="erreurs-globales">Erreurs globales</h3>
<p><strong>Condition</strong> : Lors d'une erreur interne au serveur.</p>
<p><strong>Code</strong> : <code>500</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;message&quot;: &quot;Unexpected error&quot;
}
</code></pre>
<p><strong>Condition</strong> : Erreur d'authentification.</p>
<p><strong>Code</strong> : <code>401</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;401001&quot;,
    &quot;message&quot;: &quot;Not authorized to access to this resource&quot;
}
</code></pre>
<p><strong>Condition</strong> : Rôle nécessaire pour faire la requête invalide.</p>
<p><strong>Code</strong> : <code>401</code></p>
<pre><code class="language-json">{
    &quot;error&quot;: true,
    &quot;code&quot;: &quot;401002&quot;,
    &quot;message&quot;: &quot;You do not have the required permissions&quot;
}
</code></pre></div>
         
    </div>

    
    <footer class="col-md-12 text-center">
         
        <hr>
        <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
        </p>
          
    </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
    
    <script>
        hljs.initHighlightingOnLoad();
    </script>
    

    <script>
        var base_url = {
            {
                base_url | tojson
            }
        }
    </script>
    
    <script src="js/base.js"></script>
    <script src="search/main.js"></script> <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Fermer</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Rechercher</h4>
            </div>
            <div class="modal-body">
                <p>
                    De là, vous pouvez rechercher dans la documentation. Entrez vos termes de recherche ci-dessous.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Recherche..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>

<!--
MkDocs version : 1.1.2
Build Date UTC : 2021-08-29 16:35:53.503553+00:00
-->
