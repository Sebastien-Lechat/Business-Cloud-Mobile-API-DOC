{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Bienvenue sur la documentation de l'API Business Cloud Mobile Vous trouverez ici, l'ensemble de la documentation relative \u00e0 l'API. Intallation de l'API en local R\u00e9cup\u00e9ration du projet - Lien du GitHub . Ex\u00e9cution de commande - Ensemble des commandes n\u00e9cessaire \u00e0 ex\u00e9cuter pour le lancement du projet. npm install npm start Lancement du serveur - Le serveur est lanc\u00e9 \u00e0 l'adresse suivante : http://localhost:8081/ Ensemble des module n\u00e9cessaires Express - Lien du module . Body-parser - Lien du module . Bcrypt - Lien du module . Mongoose - Lien du module . JsonWebToken - Lien du module . Nodemailer - Lien du module . Cors - Lien du module . Socket.io - Lien du module . Firebase cloud messaging - Lien de la documentation . Documentation des routes Authentification Connexion Route de connexion pour n'importe quel type d'utilisateur. URL : /auth/login Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f password string Mot de passe de l'utilisateur \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\" : \"Successfully connected\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"101001\", \"message\": \"Missing email or password field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101002\", \"message\": \"Invalid email addresse\" } Condition : Mauvaise information de connexion. Code : 400 { \"error\": true, \"code\": \"101003\", \"message\": \"Invalid login credential\" } Condition : Si l'adresse email n'est pas encore v\u00e9rifi\u00e9. Code : 400 { \"error\": true, \"code\": \"101004\", \"message\": \"Email address is not verified\" } Condition : Si la double authentification est activ\u00e9 mais que le code n'est pas fourni. Code : 400 { \"error\": true, \"code\": \"101005\", \"message\": \"Double authentification is activated, code is required\" } Condition : Si le code de double authentification est faux. Code : 400 { \"error\": true, \"code\": \"101006\", \"message\": \"Wrong code\" } Condition : Si le code de double authentification est expir\u00e9. Code : 400 { \"error\": true, \"code\": \"101007\", \"message\": \"This code is no longer valid\" } Condition : Si le compte de l'utilisateur est d\u00e9sactiv\u00e9. Code : 400 { \"error\": true, \"code\": \"101008\", \"message\": \"This account is disabled\" } Condition : Trop de tentative de connexion sur ce mail. Code : 400 { \"error\": true, \"code\": \"101008\", \"message\": \"Too many attempts on this email (5 max) - Please wait (5min)\" } Connexion \u00e0 une API ext\u00e9rieur Route de connexion pour n'importe quel type d'utilisateur via une API externe. URL : /auth/external/login Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID du compte externe \u2714\ufe0f type string Nom de l'API externe utilis\u00e9 (facebook, google) \u2714\ufe0f email string Email de l'utilisateur \u2714\ufe0f token string Token fourni par l'API externe \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\" : \"Successfully connected\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"101401\", \"message\": \"Missing email or password field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101402\", \"message\": \"Invalid email addresse\" } Condition : Aucun compte li\u00e9 valide. Code : 400 { \"error\": true, \"code\": \"101403\", \"message\": \"No account linked to this email\" } Condition : Le type ne correspond \u00e0 aucun type valide. Code : 400 { \"error\": true, \"code\": \"101404\", \"message\": \"Invalid type\" } Condition : ID de compte ext\u00e9rieur invalide. Code : 400 { \"error\": true, \"code\": \"101405\", \"message\": \"Invalid external account ID\" } Inscription Route de d'inscription d'un utilisateur (client ou entreprise). URL : /auth/register Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire name string Nom et pr\u00e9nom du client ou de l'entreprise \u2714\ufe0f email string Email du client ou de l'entreprise \u2714\ufe0f phone string T\u00e9l\u00e9phone du client ou de l'entreprise - password string Mot de passe du client ou de l'entreprise \u2714\ufe0f address string Adresse du client ou de l'entreprise \u2714\ufe0f zip string Code postal du client ou de l'entreprise \u2714\ufe0f city string Ville du client ou de l'entreprise \u2714\ufe0f country string Pays du client ou de l'entreprise \u2714\ufe0f numTVA string Num\u00e9ro de TVA de l'entreprise \u2714\ufe0f numSIRET string Num\u00e9ro de SIRET de l'entreprise \u2714\ufe0f numRCS string Num\u00e9ro de RCS de l'entreprise \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 201 { \"error\": false, \"message\": \"Successfully registred\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"101051\", \"message\": \"Missing important fields\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101052\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101053\", \"message\": \"Invalid phone number\" } Condition : Mot de passe invalide ou \u00e0 faible s\u00e9curit\u00e9 (Une majuscule, un num\u00e9ro, un caract\u00e8re sp\u00e9cial, et de 7 \u00e0 30 charact\u00e8res). Code : 400 { \"error\": true, \"code\": \"101054\", \"message\": \"Invalid password format\" } Condition : Num\u00e9ro de TVA invalide. Code : 400 { \"error\": true, \"code\": \"101055\", \"message\": \"Invalid TVA number\" } Condition : Num\u00e9ro de SIRET invalide. Code : 400 { \"error\": true, \"code\": \"101056\", \"message\": \"Invalid SIRET number\" } Condition : Num\u00e9ro de RCS invalide. Code : 400 { \"error\": true, \"code\": \"101057\", \"message\": \"Invalid RCS number\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"101058\", \"message\": \"This email is already used\" } Mot de passe oubli\u00e9 Route de r\u00e9cup\u00e9ration du mot depasse utilisateur. Le mail contient un lien de redirection sur le site pour modifier le mot de passe. URL : /auth/request-password-lost Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Email successfully send\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champ email manquant. Code : 400 { \"error\": true, \"code\": \"101101\", \"message\": \"Missing email field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101102\", \"message\": \"Invalid email addresse\" } Condition : Echec de l'envoi du mail. Code : 500 { \"error\": true, \"code\": \"500001\", \"message\": \"Internal server error, email can not be send\" } V\u00e9rification de l'email (envoi) Route d'envoi d'un email contenant un code de v\u00e9rification \u00e0 un utilisateur apr\u00e8s son inscription, ou si il change de mail dans son profil. URL : /auth/request-verify-email Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Email successfully send\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champ email manquant. Code : 400 { \"error\": true, \"code\": \"101151\", \"message\": \"Missing email field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101152\", \"message\": \"Invalid email addresse\" } Condition : Email d\u00e9j\u00e0 v\u00e9rifi\u00e9. Code : 400 { \"error\": true, \"code\": \"101153\", \"message\": \"Email already verified\" } Condition : Echec de l'envoi du mail. Code : 500 { \"error\": true, \"code\": \"500002\", \"message\": \"Internal server error, email can not be send\" } V\u00e9rification de l'email (v\u00e9rification) Route de v\u00e9rification de l'email gr\u00e2ce au code re\u00e7u dans le mail de la requ\u00eate pr\u00e9c\u00e9dente. Le code est valable 10 minutes. URL : /auth/verify-email Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f code string Code \u00e0 6 chiffre re\u00e7u dans le mail \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful verification\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champ email ou code manquant. Code : 400 { \"error\": true, \"code\": \"101201\", \"message\": \"Missing email or code field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101202\", \"message\": \"Invalid email addresse\" } Condition : Code ou adresse email invalide (utilisateur introuvable). Code : 400 { \"error\": true, \"code\": \"101203\", \"message\": \"Invalid user information\" } Condition : L'email n'est pas en court de v\u00e9rification. Code : 400 { \"error\": true, \"code\": \"101204\", \"message\": \"You need to make a request to check this email\" } Condition : Mauvais code. Code : 400 { \"error\": true, \"code\": \"101205\", \"message\": \"Wrong code\" } Condition : Code expir\u00e9. Code : 400 { \"error\": true, \"code\": \"101206\", \"message\": \"This code is no longer valid\" } Double authentification (envoi) Route d'envoi d'un email contenant un code de v\u00e9rification \u00e0 un utilisateur lors de sa connexion, si la double authentification est activ\u00e9. URL : /auth/request-double-auth Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Email successfully send\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champ email manquant. Code : 400 { \"error\": true, \"code\": \"101251\", \"message\": \"Missing email\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101252\", \"message\": \"Invalid email addresse\" } Condition : ID ou adresse email invalide (utilisateur introuvable). Code : 400 { \"error\": true, \"code\": \"101253\", \"message\": \"Invalid user information\" } Condition : Double authentification d\u00e9sactiv\u00e9. Code : 400 { \"error\": true, \"code\": \"101254\", \"message\": \"Double authentification is not activated on this account\" } Condition : Echec de l'envoi du mail. Code : 500 { \"error\": true, \"code\": \"500003\", \"message\": \"Internal server error, email can not be send\" } Double authentification (activation) Route d'activation de la double authentification pour un utilisateur. URL : /auth/active-double-auth Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire isActive boolean Bool\u00e9en pour d\u00e9finir si la double authentification est acti\u00e9 ou non \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Double authentification successfully updated\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champ isActive manquant. Code : 400 { \"error\": true, \"code\": \"101301\", \"message\": \"Missing isActive field\" } D\u00e9connexion Route de d\u00e9connexion pour n'importe quel type d'utilisateur. URL : /auth/disconnect Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successfully logout\" } Profil utilisateur R\u00e9cup\u00e9ration du profil Route de r\u00e9cup\u00e9ration des informations de son profil utilisateur. URL : /account Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful profil acquisition\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", \"needVerifyEmail\": \"\", } } Modification des informations personnelles Route de modification des informations personnelles, des informations de contact. URL : /account/information Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire name string Nom et pr\u00e9nom de l'utilisateur ou de l'entreprise - email string Email de l'utilisateur ou de l'entreprise - phone string T\u00e9l\u00e9phone de l'utilisateur ou de l'entreprise - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Profile successfully updated\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", \"needVerifyEmail\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"102051\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"102052\", \"message\": \"Invalid phone number\" } Condition : Date de naisseance invalide (DD-MM-YYY). Code : 400 { \"error\": true, \"code\": \"102053\", \"message\": \"Invalid date format\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"102054\", \"message\": \"This email is already used\" } Modification de l'avatar Route de modification de l'avatar de l'utilisateur. URL : /account/avatar Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire avatarPath string nom du fichier pour la r\u00e9cup\u00e9ration sur firecloud storage \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Profile successfully updated\", } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"102301\", \"message\": \"Missing important fields\" } Modification du mot de passe Route de modification du mot de passe de l'utilisateur. URL : /account/password Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f oldPassword string Ancien mot de passe de l'utilisateur \u2714\ufe0f newPassword string Nouveau mot de passe de l'utilisateur \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Password successfully updated\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", \"needVerifyEmail\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"102101\", \"message\": \"Missing important fields\" } Condition : Ancien mot de passe invalide. Code : 400 { \"error\": true, \"code\": \"102102\", \"message\": \"Invalid old password\" } Condition : Nouveau mot de passe invalide ou \u00e0 faible s\u00e9curit\u00e9. Code : 400 { \"error\": true, \"code\": \"102103\", \"message\": \"Invalid password format\" } Modification de l'adresse Route de modification des information de location de l'utilisateur. URL : /account/address Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire address string Adresse de l'utilisateur ou de l'entreprise - zip string Code postal de l'utilisateur ou de l'entreprise - city string Ville de l'utilisateur ou de l'entreprise - country string Pays de l'utilisateur ou de l'entreprise - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Address successfully updated\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", \"needVerifyEmail\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Si l'utilisateur faisant la requ\u00eate n'est ni g\u00e9rant, ni un client. Code : 400 { \"error\": true, \"code\": \"102151\", \"message\": \"You cannot edit your address with this account\" } Modification des informations entreprise Route de modification des informations li\u00e9es \u00e0 l'entreprise d'un utilisateur. URL : /account/enterprise Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire activity string Activit\u00e9 de l'entreprise - numTVA string Num\u00e9ro de TVA de l'entreprise - numSIRET string Num\u00e9ro de SIRET de l'entreprise - numRCS string Num\u00e9ro de RCS de l'entreprise - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Enterprise successfully updated\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", \"needVerifyEmail\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Si l'utilisateur faisant la requ\u00eate n'est ni g\u00e9rant, ni un client. Code : 400 { \"error\": true, \"code\": \"102201\", \"message\": \"You cannot edit your enterprise with this account\" } Condition : Num\u00e9ro de TVA invalide. Code : 400 { \"error\": true, \"code\": \"102202\", \"message\": \"Invalid TVA number\" } Condition : Num\u00e9ro de SIRET invalide. Code : 400 { \"error\": true, \"code\": \"102203\", \"message\": \"Invalid SIRET number\" } Condition : Num\u00e9ro de RCS invalide. Code : 400 { \"error\": true, \"code\": \"102204\", \"message\": \"Invalid RCS number\" } Enregistrement d'un appareil Route d'enregistrement pour l'envoi de notification avec firebase URL : /account/register-fcm Methode : PUT Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire deviceId string ID de l'appareil \u2714\ufe0f token string Token d'authentification pour l'enregistrement donn\u00e9 par firebase \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 201 { \"error\": false, \"message\": \"Device successfully added\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"102251\", \"message\": \"Missing important fields\" } Utilisateurs Liste des utilisateurs Route d'obtention de la liste des utilisateurs en fonction des permissions. Un client verra son employ\u00e9 r\u00e9f\u00e9rent et le g\u00e9rant, un employ\u00e9 verra ses clients et les autres employ\u00e9s, et pour finir le g\u00e9rant verra l'ensemble des utilisateurs de l'application. URL : /users Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful users acquisition\", \"users\": [{ \"id\": \"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", },{...}] } R\u00e9cup\u00e9ration d'un utilisateur Route de r\u00e9cup\u00e9ration des informations d'un utilisateur gr\u00e2ce \u00e0 son id. URL : /user/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de l'utilisateur cible \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful user acquisition\", \"user\": { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Id utilisateur manquant. Code : 400 { \"error\": true, \"code\": \"103101\", \"message\": \"Missing id field\" } Condition : Id utilisateur invalide. Code : 400 { \"error\": true, \"code\": \"103102\", \"message\": \"Invalid user id\" } R\u00e9cup\u00e9ration de l'historique Route de r\u00e9cup\u00e9ration de l'historique d'un utilisateur. URL : /user/history/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de l'utilisateur cibl\u00e9 \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful history acquisition\", \"history\" : [{ \"_id\":\"\", \"action\": { \"method\": \"\", \"route\": \"\", }, \"userEmail\": \"\", \"success\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] } Requ\u00eate \u00e9chou\u00e9e Condition : Id utilisateur manquant. Code : 400 { \"error\": true, \"code\": \"103451\", \"message\": \"Missing id field\" } Condition : Id utilisateur invalide. Code : 400 { \"error\": true, \"code\": \"103452\", \"message\": \"Invalid user id\" } Cr\u00e9er un client Route de cr\u00e9ation d'un client par un employ\u00e9 ou un g\u00e9rant. URL : /customer Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire userId string ID de l'employ\u00e9 r\u00e9f\u00e9rent du client - name string Nom et pr\u00e9nom du client ou de l'entreprise \u2714\ufe0f email string Email du client ou de l'entreprise \u2714\ufe0f password string Mot de passe du client ou de l'entreprise \u2714\ufe0f phone string T\u00e9l\u00e9phone du client ou de l'entreprise - address string Adresse du client ou de l'entreprise - zip string Code postal du client ou de l'entreprise - city string Ville du client ou de l'entreprise - country string Pays du client ou de l'entreprise - numTVA string Num\u00e9ro de TVA de l'entreprise - numSIRET string Num\u00e9ro de SIRET de l'entreprise - numRCS string Num\u00e9ro de RCS de l'entreprise - | note | string | Annotation sur le client sur le client | - | Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Customer successfully created\", \"customer\": { \"id\":\"\", \"userId\": \"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103151\", \"message\": \"Missing important fields\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103152\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103153\", \"message\": \"Invalid phone number\" } Condition : Mot de passe invalide ou \u00e0 faible s\u00e9curit\u00e9. Code : 400 { \"error\": true, \"code\": \"103154\", \"message\": \"Invalid password format\" } Condition : Num\u00e9ro de TVA invalide. Code : 400 { \"error\": true, \"code\": \"103155\", \"message\": \"Invalid TVA number\" } Condition : Num\u00e9ro de SIRET invalide. Code : 400 { \"error\": true, \"code\": \"103156\", \"message\": \"Invalid SIRET number\" } Condition : Num\u00e9ro de RCS invalide. Code : 400 { \"error\": true, \"code\": \"103157\", \"message\": \"Invalid RCS number\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"103158\", \"message\": \"This email is already used\" } Condition : Id employ\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"103159\", \"message\": \"Invalid employee id\" } Modifier un client Route de modification d'un client par un employ\u00e9 ou un g\u00e9rant. URL : /customer Methode : PUT Token requis : `` Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID du client dont on veut modifier les informations \u2714\ufe0f userId string ID de l'employ\u00e9 r\u00e9f\u00e9rent du client - name string Nom et pr\u00e9nom du client ou de l'entreprise - email string Email du client ou de l'entreprise - phone string T\u00e9l\u00e9phone du client ou de l'entreprise - address string Adresse du client ou de l'entreprise - zip string Code postal du client ou de l'entreprise - city string Ville du client ou de l'entreprise - country string Pays du client ou de l'entreprise - numTVA string Num\u00e9ro de TVA de l'entreprise - numSIRET string Num\u00e9ro de SIRET de l'entreprise - numRCS string Num\u00e9ro de RCS de l'entreprise - | note | string | Annotation sur le client sur le client | - | Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Customer successfully updated\", \"user\": { \"id\":\"\", \"userId\": \"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103201\", \"message\": \"Missing id field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103202\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103203\", \"message\": \"Invalid phone number\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"103204\", \"message\": \"Invalid customer id\" } Condition : Num\u00e9ro de TVA invalide. Code : 400 { \"error\": true, \"code\": \"103205\", \"message\": \"Invalid TVA number\" } Condition : Num\u00e9ro de SIRET invalide. Code : 400 { \"error\": true, \"code\": \"103206\", \"message\": \"Invalid SIRET number\" } Condition : Num\u00e9ro de RCS invalide. Code : 400 { \"error\": true, \"code\": \"103207\", \"message\": \"Invalid RCS number\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"103208\", \"message\": \"This email is already used\" } Condition : Id employ\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"103209\", \"message\": \"Invalid employee id\" } Supprimer un client Route de suppression d'un client par un employ\u00e9 ou un g\u00e9rant. La requ\u00eate ne supprimera pas r\u00e9ellement l'utilisateur, elle le d\u00e9sactivera seulement. URL : /customer/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du client \u00e0 supprimer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Customer successfully deleted\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103251\", \"message\": \"Missing id field\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"103252\", \"message\": \"Invalid customer id\" } Cr\u00e9er un employ\u00e9 Route de cr\u00e9ation d'un employ\u00e9 par un g\u00e9rant. URL : /employee Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire name string Nom et pr\u00e9nom de l'employ\u00e9 \u2714\ufe0f email string Email de l'employ\u00e9 \u2714\ufe0f phone string T\u00e9l\u00e9phone de l'employ\u00e9 - password string Mot de passe de l'employ\u00e9 \u2714\ufe0f role string R\u00f4le de l'employ\u00e9 au sein de l'entreprise \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Employee successfully created\", \"employee\": { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"role\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103301\", \"message\": \"Missing important fields\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103302\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103303\", \"message\": \"Invalid phone number\" } Condition : Mot de passe invalide ou \u00e0 faible s\u00e9curit\u00e9. Code : 400 { \"error\": true, \"code\": \"103304\", \"message\": \"Invalid password format\" } Condition : R\u00f4le invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103305\", \"message\": \"Invalid enterprise role\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"103306\", \"message\": \"This email is already used\" } Modifier un employ\u00e9 Route de cr\u00e9ation d'un employ\u00e9 par un g\u00e9rant. URL : /employee Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de l'employ\u00e9 \u00e0 modifier \u2714\ufe0f name string Nom et pr\u00e9nom de l'employ\u00e9 - email string Email de l'employ\u00e9 - phone string T\u00e9l\u00e9phone de l'employ\u00e9 - role string R\u00f4le de l'employ\u00e9 au sein de l'entreprise - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Employee successfully updated\", \"employee\": { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"role\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103351\", \"message\": \"Missing id field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103352\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103353\", \"message\": \"Invalid phone number\" } Condition : Id de l'employ\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"103354\", \"message\": \"Invalid employee id\" } Condition : R\u00f4le invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103355\", \"message\": \"Invalid enterprise role\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"103356\", \"message\": \"This email is already used\" } Supprimer un employ\u00e9 Route de suppression d'un employ\u00e9 par un g\u00e9rant. La requ\u00eate ne supprimera pas r\u00e9ellement l'employ\u00e9, elle le d\u00e9sactivera seulement. URL : /employee/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de l'employ\u00e9 \u00e0 supprimer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Employee successfully deleted\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103401\", \"message\": \"Missing id field\" } Condition : Id de l'employ\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"103402\", \"message\": \"Invalid employee id\" } Factures Liste des factures Route de r\u00e9cup\u00e9ration de la liste de ses factures pour un client, des factures de tout ses clients pour un employ\u00e9 et de tous les utilisateurs pour un g\u00e9rant URL : /bills Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful bills acquisition\", \"bills\": [{ \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"billNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"amountPaid\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"payementDate\": \"\", },{...}] } R\u00e9cup\u00e9ration d'une facture Route de r\u00e9cup\u00e9ration d'une facture. Un client ne peut r\u00e9cup\u00e9rer que ses factures, un employ\u00e9 les factures de ses clients, et un g\u00e9rant les factures de tous les utilisateurs. URL : /bill/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la facture \u00e0 r\u00e9cup\u00e9rer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful bill acquisition\", \"bill\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"billNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"amountPaid\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"payementDate\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : ID de facture invalide. Code : 400 { \"error\": true, \"code\": \"104101\", \"message\": \"Invalid bill id\" } Cr\u00e9er une facture Route de cr\u00e9ation d'une facture pour les employ\u00e9s et les g\u00e9rants. URL : /bill Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire status string Statut de la facture \u2714\ufe0f clientId string ID du client li\u00e9 \u00e0 la facture \u2714\ufe0f entrepriseId string ID de l'entreprise du g\u00e9rant \u2714\ufe0f billNum string Num\u00e9ro unique de facture \u2714\ufe0f | deadline | date | Date limite \u00e0 laquelle le client peut payer la facture | \u2714\ufe0f | Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Bill successfuly created\", \"bill\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"billNum\": \"\", \"articles\": [], \"totalHT\": \"\", \"totalTTC\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104151\", \"message\": \"Missing important fields\" } Condition : Statut de facture invalide (Non pay\u00e9e, Partiellement pay\u00e9e, Pay\u00e9e, En retard). Code : 400 { \"error\": true, \"code\": \"104152\", \"message\": \"Invalid bill status\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"104153\", \"message\": \"Invalid customer id\" } Condition : ID de l'entreprise invalide. Code : 400 { \"error\": true, \"code\": \"104154\", \"message\": \"Invalid enterprise id\" } Condition : Num\u00e9ro de facture invalide. Code : 400 { \"error\": true, \"code\": \"104155\", \"message\": \"Invalid bill number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"104156\", \"message\": \"Invalid deadline\" } Modifier une facture Route de modification d'une facture par un employ\u00e9 ou un g\u00e9rant. URL : /bill Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de la facture \u00e0 modifier \u2714\ufe0f status string Statut de la facture - clientId string ID du client li\u00e9 \u00e0 la facture - billNum string Num\u00e9ro unique de facture - articles array Tableaux de l'ensemble des articles de la facture - | deadline | date | Date limite \u00e0 laquelle le client peut payer la facture | - | Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Bill successfully updated\", \"bill\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"billNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"amountPaid\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"payementDate\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104201\", \"message\": \"Missing important fields\" } Condition : Statut de facture invalide (Non pay\u00e9e, Partiellement pay\u00e9e, Pay\u00e9e, En retard). Code : 400 { \"error\": true, \"code\": \"104202\", \"message\": \"Invalid bill status\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"104203\", \"message\": \"Invalid customer id\" } Condition : ID de l'entreprise invalide. Code : 400 { \"error\": true, \"code\": \"104204\", \"message\": \"Invalid enterprise id\" } Condition : Num\u00e9ro de facture invalide. Code : 400 { \"error\": true, \"code\": \"104205\", \"message\": \"Invalid bill number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"104206\", \"message\": \"Invalid deadline\" } Condition : Format de l'article invalide (ID ou quantit\u00e9 manquante). Code : 400 { \"error\": true, \"code\": \"104207\", \"message\": \"Invalid article format\" } Condition : ID d'un article invalide. Code : 400 { \"error\": true, \"code\": \"104208\", \"message\": \"Some article id are invalid\" } Supprimer une facture Route de suppression d'une facture par un employ\u00e9 ou un g\u00e9rant. URL : /bill/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la facture \u00e0 supprimer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Bill successfully deleted\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104251\", \"message\": \"Missing id field\" } Condition : ID de facture invalide. Code : 400 { \"error\": true, \"code\": \"104252\", \"message\": \"Invalid bill id\" } Relancer un client sur une facture Route d'envoi d'un email et d'une notification pour la relance sur le payement d'une facture. URL : /bill/:billId/customer/:clientId/mail Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire billId string ID de la facture \u2714\ufe0f clientId string ID du client li\u00e9 \u00e0 la facture \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Mail successfully send\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104301\", \"message\": \"Missing important fields\" } Condition : Id de la facture invalide. Code : 400 { \"error\": true, \"code\": \"104302\", \"message\": \"Invalid bill id\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"104153\", \"message\": \"Invalid customer id\" } Devis Liste des devis Route de r\u00e9cup\u00e9ration de la liste de ses devis pour un client, des devis de tout ses clients pour un employ\u00e9 et de tous les utilisateurs pour un g\u00e9rant. URL : /estimates Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful etimates acquisition\", \"estimates\": [{ \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"estimateNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] } Requ\u00eate \u00e9chou\u00e9e R\u00e9cup\u00e9ration d'un devis Route de r\u00e9cup\u00e9ration d'un devis. Un client ne peut r\u00e9cup\u00e9rer que ses devis, un employ\u00e9 les devis de ses clients, et un g\u00e9rant les devis de tous les utilisateurs. URL : /estimate/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du devis \u00e0 r\u00e9cup\u00e9rer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful bill acquisition\", \"estimate\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"estimateNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : ID de devis invalide. Code : 400 { \"error\": true, \"code\": \"105101\", \"message\": \"Invalid estimate id\" } Cr\u00e9er un devis Route de cr\u00e9ation d'un devis pour les employ\u00e9s et les g\u00e9rants. URL : /estimate Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire status string Statut du devis \u2714\ufe0f clientId string ID du client li\u00e9 au devis \u2714\ufe0f entrepriseId string ID de l'entreprise du g\u00e9rant \u2714\ufe0f estimateNum string Num\u00e9ro unique de devis \u2714\ufe0f deadline date Date limite \u00e0 laquelle le client peut accepter le devis \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"estimate successfuly created\", \"estimate\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"estimateNum\": \"\", \"articles\": [], \"totalHT\": \"\", \"totalTTC\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"105151\", \"message\": \"Missing important fields\" } Condition : Statut du devis invalide (En attente, Refus\u00e9, Accept\u00e9, En retard). Code : 400 { \"error\": true, \"code\": \"105152\", \"message\": \"Invalid estimate status\" } Condition : ID du client invalide. Code : 400 { \"error\": true, \"code\": \"105153\", \"message\": \"Invalid customer id\" } Condition : ID de l'entreprise invalide. Code : 400 { \"error\": true, \"code\": \"105154\", \"message\": \"Invalid enterprise id\" } Condition : Num\u00e9ro de devis invalide. Code : 400 { \"error\": true, \"code\": \"105155\", \"message\": \"Invalid estimate number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"105156\", \"message\": \"Invalid deadline\" } Modifier un devis Route de modification d'un devis par un employ\u00e9 ou un g\u00e9rant. URL : /estimate Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID du devis \u00e0 modifier \u2714\ufe0f status string Statut du devis - clientId string ID du client li\u00e9 au devis - estimateNum string Num\u00e9ro unique de devis - articles array Tableaux de l'ensemble des articles du devis - deadline date Date limite \u00e0 laquelle le client peut payer le devis - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Estimate successfully updated\", \"estimate\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"billNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"amountPaid\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"payementDate\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"105201\", \"message\": \"Missing important fields\" } Condition : Statut du devis invalide (En attente, Refus\u00e9, Accept\u00e9, En retard). Code : 400 { \"error\": true, \"code\": \"105202\", \"message\": \"Invalid estimate status\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"105203\", \"message\": \"Invalid customer id\" } Condition : ID de l'entreprise invalide. Code : 400 { \"error\": true, \"code\": \"105204\", \"message\": \"Invalid enterprise id\" } Condition : Num\u00e9ro de devis invalide. Code : 400 { \"error\": true, \"code\": \"105205\", \"message\": \"Invalid estimate number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"105206\", \"message\": \"Invalid deadline\" } Condition : Format de l'article invalide (ID ou quantit\u00e9 manquante). Code : 400 { \"error\": true, \"code\": \"105207\", \"message\": \"Invalid article format\" } Condition : ID d'un article invalide. Code : 400 { \"error\": true, \"code\": \"105208\", \"message\": \"Some article id are invalid\" } Supprimer un devis Route de suppression d'un devis par un employ\u00e9 ou un g\u00e9rant. URL : /estimate/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du devis \u00e0 supprimer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Estimate successfully deleted\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"105251\", \"message\": \"Missing id field\" } Condition : ID de devis invalide. Code : 400 { \"error\": true, \"code\": \"105252\", \"message\": \"Invalid estimate id\" } Relancer un client sur un devis Route d'envoi d'un email et d'une notification pour la relance de l'acceptation d'un devis. URL : /estimate/:estimateId/customer/:clientId/mail Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire estimateId string ID du devis \u2714\ufe0f clientId string ID du client li\u00e9 au devis \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Mail successfully send\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"105301\", \"message\": \"Missing important fields\" } Condition : Id du devis invalide. Code : 400 { \"error\": true, \"code\": \"105302\", \"message\": \"Invalid estimate id\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"105303\", \"message\": \"Invalid customer id\" } Transformer un devis en facture Route de transformation d'un devis en une facture en respectant les articles. URL : /estimate/:estimateId/customer/:clientId/mail Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire estimateId string ID du devis \u2714\ufe0f clientId string ID du client li\u00e9 au devis \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Mail successfully send\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"105351\", \"message\": \"Missing important fields\" } Condition : Id du devis invalide. Code : 400 { \"error\": true, \"code\": \"105352\", \"message\": \"Invalid estimate id\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"105353\", \"message\": \"Invalid customer id\" } Condition : Statut du devis invalide (d\u00e9j\u00e0 accept\u00e9). Code : 400 { \"error\": true, \"code\": \"105354\", \"message\": \"Invalid estimate status\" } Articles Liste des articles Route de r\u00e9cup\u00e9ration de la liste des articles pour un g\u00e9rant ou un employ\u00e9. URL : /articles Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful articles acquisition\", \"articles\": [{ \"_id\": \"\", \"name\": \"\", \"tva\": \"\", \"price\": \"\", \"accountNumber\": \"\", \"description\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] } Cr\u00e9er un article Route de cr\u00e9ation d'un article pour un employ\u00e9 ou un g\u00e9rant. URL : /article Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire name string Nom de l'article \u2714\ufe0f accountNumber number Num\u00e9ro de compte comptable de l'article \u2714\ufe0f price number Prix unitaire de l'article \u2714\ufe0f tva number TVA appliqu\u00e9 \u00e0 l'article \u2714\ufe0f description string Description de l'article - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Article successfully created\", \"article\": { \"_id\": \"\", \"name\": \"\", \"tva\": \"\", \"price\": \"\", \"accountNumber\": \"\", \"description\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"106101\", \"message\": \"Missing important fields\" } Condition : Num\u00e9ro de compte invalide. Code : 400 { \"error\": true, \"code\": \"106102\", \"message\": \"Invalid account number\" } Condition : Format du prix invalide (Float). Code : 400 { \"error\": true, \"code\": \"106103\", \"message\": \"Invalid price format\" } Condition : Format de la taxe invalide (Float). Code : 400 { \"error\": true, \"code\": \"106104\", \"message\": \"Invalid tva format\" } Supprimer un article Route de suppression d'un article par un employ\u00e9 ou un g\u00e9rant. URL : /article/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de l'article \u00e0 supprimer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Article successfully deleted\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"106151\", \"message\": \"Missing id field\" } Condition : ID de l'article invalide. Code : 400 { \"error\": true, \"code\": \"106152\", \"message\": \"Invalid article id\" } Projets Liste des projets Route de r\u00e9cup\u00e9ration de la liste des projets pour un employ\u00e9 ou un g\u00e9rant. URL : /projects Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful projects acquisition\", \"projects\": [{ \"projectNum\": \"\", \"id\": \"\", \"title\": \"\", \"status\": \"\", \"clientId\": \"\", \"progression\": \"\", \"startDate\": \"\", \"deadline\": \"\", \"employees\": [\"\"], \"fixedRate\": \"\", \"hourlyRate\": \"\", \"estimateHour\": \"\", },{...}] } R\u00e9cup\u00e9ration d'un projet Route de r\u00e9cup\u00e9ration d'un projet pour un employ\u00e9 ou un g\u00e9rant. URL : /project/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du projet \u00e0 r\u00e9cup\u00e9rer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful project acquisition\", \"projects\": [{ \"projectNum\": \"\", \"id\": \"\", \"title\": \"\", \"status\": \"\", \"clientId\": \"\", \"progression\": \"\", \"startDate\": \"\", \"deadline\": \"\", \"employees\": [\"\"], \"fixedRate\": \"\", \"hourlyRate\": \"\", \"estimateHour\": \"\", }] } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"108101\", \"message\": \"Missing id field\" } Condition : ID du projet invalide. Code : 400 { \"error\": true, \"code\": \"108102\", \"message\": \"Invalid project id\" } Cr\u00e9er un projet Route de cr\u00e9ation d'un projet par un employ\u00e9 ou un g\u00e9rant. URL : /project Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire projectNum string Num\u00e9ro unique de projet \u2714\ufe0f title string Titre du projet \u2714\ufe0f status string Statut d'avancement du projet \u2714\ufe0f clientId string ID du client li\u00e9 au projet \u2714\ufe0f progression number Progression du projet - startDate date Date de d\u00e9but du projet - deadline date Date d'\u00e9ch\u00e9ance du projet \u2714\ufe0f employees string Liste des employ\u00e9s li\u00e9s au projet \u2714\ufe0f fixedRate date Taux fixe - hourlyRate date Taux horaire - estimateHour number Nombre d'heure estim\u00e9 du projet - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Project successfully created\", \"project\": { \"projectNum\": \"\", \"id\": \"\", \"title\": \"\", \"status\": \"\", \"clientId\": \"\", \"progression\": \"\", \"startDate\": \"\", \"deadline\": \"\", \"employees\": [\"\"], \"fixedRate\": \"\", \"hourlyRate\": \"\", \"estimateHour\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"108151\", \"message\": \"Missing important fields\" } Condition : Statut du projet invalide (En attente, En cours, Termin\u00e9, En retard). Code : 400 { \"error\": true, \"code\": \"108152\", \"message\": \"Invalid project status\" } Condition : ID du client invalid. Code : 400 { \"error\": true, \"code\": \"108153\", \"message\": \"Invalid customer id\" } Condition : Num\u00e9ro de projet invalide. Code : 400 { \"error\": true, \"code\": \"108154\", \"message\": \"Invalid project number\" } Condition : Num\u00e9ro de progression invalide (0-100). Code : 400 { \"error\": true, \"code\": \"108155\", \"message\": \"Invalid progression number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"108156\", \"message\": \"Invalid deadline\" } Condition : Si un ID employ\u00e9 est invalide. Code : 400 { \"error\": true, \"code\": \"108157\", \"message\": \"Some employee id are invalid\" } Condition : Si le taux horaire et le taux fixe sont renseign\u00e9 en m\u00eame temps. Code : 400 { \"error\": true, \"code\": \"108158\", \"message\": \"You can't have both billing systems active\" } Condition : Format de taxe fixe invalide. Code : 400 { \"error\": true, \"code\": \"108159\", \"message\": \"Invalid fixed rate\" } Condition : Format de taxe horaire invalide. Code : 400 { \"error\": true, \"code\": \"108160\", \"message\": \"Invalid hourly rate\" } Condition : Format du temps estim\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"108161\", \"message\": \"Invalid estimate hour\" } Condition : Date de d\u00e9but situ\u00e9 apr\u00e8s la date d'\u00e9ch\u00e9ance. Code : 400 { \"error\": true, \"code\": \"108162\", \"message\": \"Start date can't be set after deadline\" } Modifier un projet Route de modification d'un projet par un employ\u00e9 ou un g\u00e9rant. URL : /project Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID du projet \u00e0 modifier \u2714\ufe0f projectNum string Num\u00e9ro unique de projet - title string Titre du projet - status string Statut d'avancement du projet - clientId string ID du client li\u00e9 au projet - progression number Progression du projet - startDate date Date de d\u00e9but du projet - deadline date Date d'\u00e9ch\u00e9ance du projet - employees array Liste des employ\u00e9s li\u00e9s au projet - fixedRate date Taux fixe - hourlyRate date Taux horaire - estimateHour number Nombre d'heures estim\u00e9es \u00e0 la r\u00e9alisation du projet - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Project successfully updated\", \"project\": { \"projectNum\": \"\", \"id\": \"\", \"title\": \"\", \"status\": \"\", \"clientId\": \"\", \"progression\": \"\", \"startDate\": \"\", \"deadline\": \"\", \"employees\": [\"\"], \"fixedRate\": \"\", \"hourlyRate\": \"\", \"estimateHour\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"108201\", \"message\": \"Missing id field\" } Condition : Statut du projet invalide (En attente, En cours, Termin\u00e9, En retard). Code : 400 { \"error\": true, \"code\": \"108202\", \"message\": \"Invalid project status\" } Condition : ID du client invalid. Code : 400 { \"error\": true, \"code\": \"108203\", \"message\": \"Invalid customer id\" } Condition : Num\u00e9ro de projet invalide. Code : 400 { \"error\": true, \"code\": \"108204\", \"message\": \"Invalid project number\" } Condition : Num\u00e9ro de progression invalide (0-100). Code : 400 { \"error\": true, \"code\": \"108205\", \"message\": \"Invalid progression number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"108206\", \"message\": \"Invalid deadline\" } Condition : Si un ID employ\u00e9 est invalide. Code : 400 { \"error\": true, \"code\": \"108207\", \"message\": \"Some employee id are invalid\" } Condition : Si le taux horaire et le taux fixe sont renseign\u00e9 en m\u00eame temps. Code : 400 { \"error\": true, \"code\": \"108208\", \"message\": \"You can't have both billing systems active\" } Condition : Format de taxe fixe invalide. Code : 400 { \"error\": true, \"code\": \"108209\", \"message\": \"Invalid fixed rate\" } Condition : Format de taxe horaire invalide. Code : 400 { \"error\": true, \"code\": \"108210\", \"message\": \"Invalid hourly rate\" } Condition : Format du temps estim\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"108211\", \"message\": \"Invalid estimate hour\" } Condition : Date de d\u00e9but situ\u00e9 apr\u00e8s la date d'\u00e9ch\u00e9ance. Code : 400 { \"error\": true, \"code\": \"108212\", \"message\": \"Start date can't be set after deadline\" } Supprimer un projet Route de suppression d'un projet par un employ\u00e9 ou un g\u00e9rant. URL : /project/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du projet \u00e0 supprimer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Project successfully deleted\", } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"108251\", \"message\": \"Missing id field\" } Condition : ID du projet invalide. Code : 400 { \"error\": true, \"code\": \"108252\", \"message\": \"Invalid project id\" } Transformer un projet en facture Route de transformation d'un projet par un employ\u00e9 ou un g\u00e9rant. URL : /project/transform/:id Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du projet \u00e0 transformer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Project successfully transformed\", \"billId\": \"\", } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"108301\", \"message\": \"Missing id field\" } Condition : ID du projet invalide. Code : 400 { \"error\": true, \"code\": \"108302\", \"message\": \"Invalid project id\" } Temps Liste des temps enregistr\u00e9s Route de r\u00e9cup\u00e9ration de la liste des temps enregistr\u00e9s pour un projet. URL : /times Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du projet pour lequel on veut r\u00e9cup\u00e9rer les temps - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful times acquisition\", \"times\": [{ \"id\": \"\", \"userId\": \"\", \"projectId\": \"\", \"taskName\": \"\", \"billable\": \"\", \"duration\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] } Requ\u00eate \u00e9chou\u00e9e Condition : ID du projet invalide. Code : 400 { \"error\": true, \"code\": \"110051\", \"message\": \"Invalid project id\" } Cr\u00e9er un enregistrement de temps Route de cr\u00e9ation d'un enregistrement de temps par un employ\u00e9 ou un g\u00e9rant. URL : /time Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire userId string ID de l'employ\u00e9 ou le g\u00e9rant enregistrant le temps \u2714\ufe0f taskName string Nom de la t\u00e2che li\u00e9e au temps - projectId string ID du projet li\u00e9 au temps enregistr\u00e9 \u2714\ufe0f billable boolean Bool\u00e9en pour savoir si le temps est factirable ou non \u2714\ufe0f duration number Dur\u00e9e estim\u00e9 de la t\u00e2che en heure \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Time successfully created\", \"time\": { \"id\": \"\", \"userId\": \"\", \"taskName\": \"\", \"projectId\": \"\", \"billable\": \"\", \"duration\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"110101\", \"message\": \"Missing important fields\" } Condition : ID de projet invalide. Code : 400 { \"error\": true, \"code\": \"110102\", \"message\": \"Invalid project id\" } Condition : ID de la t\u00e2che invalide. Code : 400 { \"error\": true, \"code\": \"110103\", \"message\": \"Invalid task id\" } Condition : Format du champs facturable invalide (bool\u00e9en). Code : 400 { \"error\": true, \"code\": \"110104\", \"message\": \"Invalid billable format\" } Condition : Format de la dur\u00e9e invalide. Code : 400 { \"error\": true, \"code\": \"110105\", \"message\": \"Invalid duration number\" } Modifier un enregistrement de temps Route de modification d'un enregistrement de temps par un employ\u00e9 ou un g\u00e9rant. URL : /time Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID du temps enregistr\u00e9 \u2714\ufe0f billable boolean Bool\u00e9en pour savoir si le temps est factirable ou non \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Time successfully updated\", \"time\": { \"id\": \"\", \"userId\": \"\", \"taskName\": \"\", \"projectId\": \"\", \"billable\": \"\", \"duration\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"110151\", \"message\": \"Missing important fields\" } Condition : ID du temps invalide. Code : 400 { \"error\": true, \"code\": \"110152\", \"message\": \"Invalid time id\" } Condition : Format du champs facturable invalide (bool\u00e9en). Code : 400 { \"error\": true, \"code\": \"110153\", \"message\": \"Invalid billable format\" } Supprimer un enregistrement de temps Route de suppression d'un enregistrement de temps par un employ\u00e9 ou un g\u00e9rant. URL : /time/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du temps \u00e0 supprimer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Time successfully deleted\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"110201\", \"message\": \"Missing id field\" } Condition : ID du temps invalide. Code : 400 { \"error\": true, \"code\": \"110202\", \"message\": \"Invalid time id\" } D\u00e9penses Liste des d\u00e9penses Route de r\u00e9cup\u00e9ration de la liste des d\u00e9penses pour un g\u00e9rant ou un employ\u00e9. URL : /expenses/:projectId Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire projectId string ID du projet pour lequel on veut r\u00e9cup\u00e9rer les d\u00e9penses - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful expenses acquisition\", \"expenses\": [{ \"expenseNum\": \"\", \"id\": \"\", \"price\": \"\", \"accountNumber\": \"\", \"category\": \"\", \"file\": \"\", \"description\": \"\", \"userId\": \"\", \"projectId\": \"\", \"billable\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] } Requ\u00eate \u00e9chou\u00e9e Condition : ID du projet invalide. Code : 400 { \"error\": true, \"code\": \"111001\", \"message\": \"Invalid project id\" } R\u00e9cup\u00e9ration d'une d\u00e9pense Route de r\u00e9cup\u00e9ration d'une d\u00e9pense pour un g\u00e9rant ou un employ\u00e9. URL : /expense/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la d\u00e9pense que l'on veut r\u00e9cup\u00e9rer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful expense acquisition\", \"expense\": { \"expenseNum\": \"\", \"id\": \"\", \"price\": \"\", \"accountNumber\": \"\", \"category\": \"\", \"file\": \"\", \"description\": \"\", \"userId\": \"\", \"projectId\": \"\", \"billable\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"111051\", \"message\": \"Missing id field\" } Condition : ID de la d\u00e9pense invalide. Code : 400 { \"error\": true, \"code\": \"111052\", \"message\": \"Invalid expense id\" } Cr\u00e9er une d\u00e9pense Route de cr\u00e9ation d'une note de frais pour les employ\u00e9s et les g\u00e9rants. URL : /expense Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire expenseNum string Num\u00e9ro unique de d\u00e9pense \u2714\ufe0f projectId string ID du projet li\u00e9 \u00e0 la d\u00e9pense \u2714\ufe0f price number Montant de la d\u00e9pense \u2714\ufe0f accountNumber number Num\u00e9ro de compte comptable de la d\u00e9pense \u2714\ufe0f category string Category de d\u00e9pense \u2714\ufe0f billable boolean Bool\u00e9en pour savoir si la d\u00e9pense est factur\u00e9 ou non \u2714\ufe0f file file Document de justification de la d\u00e9pense - description string Description de la d\u00e9pense - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Expense successfully created\", \"expense\": { \"expenseNum\": \"\", \"id\": \"\", \"price\": \"\", \"accountNumber\": \"\", \"category\": \"\", \"file\": \"\", \"description\": \"\", \"userId\": \"\", \"projectId\": \"\", \"billable\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"111101\", \"message\": \"Missing important fields\" } Condition : Num\u00e9ro de note de frais invalide. Code : 400 { \"error\": true, \"code\": \"111102\", \"message\": \"Invalid expense number\" } Condition : Num\u00e9ro de compte invalide. Code : 400 { \"error\": true, \"code\": \"111103\", \"message\": \"Invalid account number\" } Condition : Format du prix invalide (Float). Code : 400 { \"error\": true, \"code\": \"111104\", \"message\": \"Invalid price format\" } Condition : Format du champ facturable invalide (bool\u00e9en). Code : 400 { \"error\": true, \"code\": \"111105\", \"message\": \"Invalid invoiced format\" } Condition : Id du projet invalide. Code : 400 { \"error\": true, \"code\": \"111106\", \"message\": \"Invalid project id\" } Modifier une d\u00e9pense Route de modification d'une d\u00e9pense par un employ\u00e9 ou un g\u00e9rant. URL : /expense Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de la d\u00e9pense \u00e0 modifier \u2714\ufe0f billable boolean Bool\u00e9en pour savoir si la d\u00e9pense est factur\u00e9 ou non \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Expense successfully updated\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"111151\", \"message\": \"Missing id field\" } Condition : ID de la d\u00e9pense invalide. Code : 400 { \"error\": true, \"code\": \"111152\", \"message\": \"Invalid expense id\" } Supprimer une d\u00e9pense Route de suppression d'une d\u00e9pense par un employ\u00e9 ou un g\u00e9rant. URL : /expense/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la d\u00e9pense \u00e0 supprimer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Expense successfully deleted\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"111201\", \"message\": \"Missing id field\" } Condition : ID de la d\u00e9pense invalide. Code : 400 { \"error\": true, \"code\": \"111202\", \"message\": \"Invalid expense id\" } Conversations Liste des conversations Route de r\u00e9cup\u00e9ration de la liste des conversation d'un utilisateur. URL : /conversations Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful conversations acquisition\", \"conversations\": [{ \"id\": \"\", \"member1\": \"\", \"member2\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"lastMessage\": \"\", },{...}] } R\u00e9cup\u00e9ration d'une conversation Route de r\u00e9cup\u00e9ration d'une conversation avec un autre utilisateur. URL : /conversation/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de la conversation \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful conversation acquisition\", \"conversation\": { \"id\": \"\", \"member1\": \"\", \"member2\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"lastMessage\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : ID de la conversation manquante. Code : 400 { \"error\": true, \"code\": \"112201\", \"message\": \"Missing id field\" } Condition : ID de la conversation invalide. Code : 400 { \"error\": true, \"code\": \"112202\", \"message\": \"Invalid conversation id\" } R\u00e9cup\u00e9ration des messages d'une conversation Route de r\u00e9cup\u00e9ration des messages d'une conversation avec un autre utilisateur. URL : /conversation/:id/messages Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de la conversation \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful conversation messages acquisition\", \"messages\": [{ \"conversationId\": \"\", \"userId\": \"\", \"text\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] } Requ\u00eate \u00e9chou\u00e9e Condition : ID de la conversation manquante. Code : 400 { \"error\": true, \"code\": \"112251\", \"message\": \"Missing id field\" } Condition : ID de la conversation invalide. Code : 400 { \"error\": true, \"code\": \"112252\", \"message\": \"Invalid conversation id\" } Cr\u00e9er une conversation Route de cr\u00e9ation d'une conversation par un utilisateur. URL : /conversation Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire userId string ID de l' utilisateur avec lequel on veut cr\u00e9er une conversation \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Conversation successfully created\", \"conversation\": { \"id\": \"\", \"member1\": \"\", \"member2\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"lastMessage\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"112101\", \"message\": \"Missing important fields\" } Condition : Si l'on cr\u00e9er une conversation avec soit m\u00eame Code : 400 { \"error\": true, \"code\": \"112102\", \"message\": \"Can't create conversation with yourself\" } Condition : ID de l'utilisateur invalide. Code : 400 { \"error\": true, \"code\": \"112103\", \"message\": \"Invalid user id\" } Supprimer une conversation Route de suppression d'une conversation par un utilisateur. URL : /conversation/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la conversation \u00e0 supprimer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Conversation successfully deleted\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"112151\", \"message\": \"Missing id field\" } Condition : ID de la conversation invalide. Code : 400 { \"error\": true, \"code\": \"112152\", \"message\": \"Invalid conversation id\" } Notifications Liste des notifications Route de r\u00e9cup\u00e9ration de la liste des notifications d'un utilisateur. URL : /notifications Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful notifications acquisition\", \"conversations\": [{ \"id\": \"\", \"title\": \"\", \"message\": \"\", \"catergory\": \"\", \"targetId\": \"\", \"userId\": \"\", \"seen\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] } Compteur de notification Route de r\u00e9cup\u00e9ration du nombre de notifications non lu. URL : /notifications/count Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful notifications count acquisition\", \"count\": \"\", } Supprimer une notification Route de suppression d'une notification par un utilisateur. URL : /notification/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la notification \u00e0 supprimer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Notification successfully deleted\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"113101\", \"message\": \"Missing id field\" } Condition : ID de la notification invalide. Code : 400 { \"error\": true, \"code\": \"113102\", \"message\": \"Invalid notification id\" } Paiement G\u00e9n\u00e9ration des informations pour le paiement Route pour effectuer un paiement. URL : /bill/payment-sheet Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire amount number montant \u00e0 payer \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"paymentIntent\": \"\", \"ephemeralKey\": \"\", \"customer\": \"\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104351\", \"message\": \"Missing important fields\" } Effectuer un paiement Route pour effectuer un paiement. URL : /bill/payment/:id Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la facture pour le paiement \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Bill successfully payed\", } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104401\", \"message\": \"Missing important fields\" } Condition : Id de la facture invalide. Code : 400 { \"error\": true, \"code\": \"104402\", \"message\": \"Invalid bill id\" } Condition : Statut de la facture invalide (d\u00e9j\u00e0 pay\u00e9e). Code : 400 { \"error\": true, \"code\": \"104403\", \"message\": \"Invalid bill status\" } Statistiques Obtenir les statistiques Route de r\u00e9cup\u00e9ration des statistiques pour la page d'accueil. URL : /global/statistics Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - - Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"statistics\": { \"gainTotal\": \"\", \"expenseTotal\": \"\", \"employeeTotal\": \"\", \"customerTotal\": \"\", \"projectTotal\": \"\", \"projectTimeTotal\": \"\", \"billUnpaidTotal\": \"\", \"billUnpaidAmountTotal\": \"\", } } Routes globales Obtenir un num\u00e9ro pour la cr\u00e9ation d'un document Route de r\u00e9cup\u00e9ration du prochain num\u00e9ro disponible pour un document. URL : /global/nextNumber&acronym='' Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire &acronym string Acronyme du document pour lequel on veut r\u00e9cup\u00e9rer le num\u00e9ro (FAC, DEV, PRO, EXP, etc...) \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Successful statistic acquisition\", \"statistics\": { \"gainTotal\": \"\", \"expenseTotal\": \"\", \"employeeTotal\": \"\", \"customerTotal\": \"\", \"projectTotal\": \"\", \"projectTimeTotal\": \"\", \"billUnpaidTotal\": \"\", \"billUnpaidAmountTotal\": \"\", } } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"114001\", \"message\": \"Missing important fields\" } G\u00e9n\u00e9ration d'un document Route de g\u00e9n\u00e9ration d'un document en pdf pour l'envoyer par mail. URL : /global/generateInvoice/:type/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string Id du document pour lequel \u2714\ufe0f :type string Pr\u00e9cision du type de document (bill, estimate) \u2714\ufe0f Requ\u00eate r\u00e9ussie Code : 200 { \"error\": false, \"message\": \"Document successfully send\" } Requ\u00eate \u00e9chou\u00e9e Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"114051\", \"message\": \"Missing important fields\" } Condition : Format du type invalide (estimate, bill). Code : 400 { \"error\": true, \"code\": \"114052\", \"message\": \"Invalid type field\" } Condition : Le client n'existe plus. Code : 400 { \"error\": true, \"code\": \"114053\", \"message\": \"Invalid customer id\" } Condition : Le document n'existe pas. Code : 400 { \"error\": true, \"code\": \"114054\", \"message\": \"Invalid file id\" } Erreurs globales Condition : Lors d'une erreur interne au serveur. Code : 500 { \"error\": true, \"message\": \"Unexpected error\" } Condition : Erreur d'authentification. Code : 401 { \"error\": true, \"code\": \"401001\", \"message\": \"Not authorized to access to this resource\" } Condition : R\u00f4le n\u00e9cessaire pour faire la requ\u00eate invalide. Code : 401 { \"error\": true, \"code\": \"401002\", \"message\": \"You do not have the required permissions\" }","title":"Home"},{"location":"#bienvenue-sur-la-documentation-de-lapi-business-cloud-mobile","text":"Vous trouverez ici, l'ensemble de la documentation relative \u00e0 l'API.","title":"Bienvenue sur la documentation de l'API Business Cloud Mobile"},{"location":"#intallation-de-lapi-en-local","text":"R\u00e9cup\u00e9ration du projet - Lien du GitHub . Ex\u00e9cution de commande - Ensemble des commandes n\u00e9cessaire \u00e0 ex\u00e9cuter pour le lancement du projet. npm install npm start Lancement du serveur - Le serveur est lanc\u00e9 \u00e0 l'adresse suivante : http://localhost:8081/","title":"Intallation de l'API en local"},{"location":"#ensemble-des-module-necessaires","text":"Express - Lien du module . Body-parser - Lien du module . Bcrypt - Lien du module . Mongoose - Lien du module . JsonWebToken - Lien du module . Nodemailer - Lien du module . Cors - Lien du module . Socket.io - Lien du module . Firebase cloud messaging - Lien de la documentation .","title":"Ensemble des module n\u00e9cessaires"},{"location":"#documentation-des-routes","text":"","title":"Documentation des routes"},{"location":"#authentification","text":"","title":"Authentification"},{"location":"#connexion","text":"Route de connexion pour n'importe quel type d'utilisateur. URL : /auth/login Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f password string Mot de passe de l'utilisateur \u2714\ufe0f","title":"Connexion"},{"location":"#requete-reussie","text":"Code : 200 { \"error\": false, \"message\" : \"Successfully connected\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"101001\", \"message\": \"Missing email or password field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101002\", \"message\": \"Invalid email addresse\" } Condition : Mauvaise information de connexion. Code : 400 { \"error\": true, \"code\": \"101003\", \"message\": \"Invalid login credential\" } Condition : Si l'adresse email n'est pas encore v\u00e9rifi\u00e9. Code : 400 { \"error\": true, \"code\": \"101004\", \"message\": \"Email address is not verified\" } Condition : Si la double authentification est activ\u00e9 mais que le code n'est pas fourni. Code : 400 { \"error\": true, \"code\": \"101005\", \"message\": \"Double authentification is activated, code is required\" } Condition : Si le code de double authentification est faux. Code : 400 { \"error\": true, \"code\": \"101006\", \"message\": \"Wrong code\" } Condition : Si le code de double authentification est expir\u00e9. Code : 400 { \"error\": true, \"code\": \"101007\", \"message\": \"This code is no longer valid\" } Condition : Si le compte de l'utilisateur est d\u00e9sactiv\u00e9. Code : 400 { \"error\": true, \"code\": \"101008\", \"message\": \"This account is disabled\" } Condition : Trop de tentative de connexion sur ce mail. Code : 400 { \"error\": true, \"code\": \"101008\", \"message\": \"Too many attempts on this email (5 max) - Please wait (5min)\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#connexion-a-une-api-exterieur","text":"Route de connexion pour n'importe quel type d'utilisateur via une API externe. URL : /auth/external/login Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID du compte externe \u2714\ufe0f type string Nom de l'API externe utilis\u00e9 (facebook, google) \u2714\ufe0f email string Email de l'utilisateur \u2714\ufe0f token string Token fourni par l'API externe \u2714\ufe0f","title":"Connexion \u00e0 une API ext\u00e9rieur"},{"location":"#requete-reussie_1","text":"Code : 200 { \"error\": false, \"message\" : \"Successfully connected\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_1","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"101401\", \"message\": \"Missing email or password field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101402\", \"message\": \"Invalid email addresse\" } Condition : Aucun compte li\u00e9 valide. Code : 400 { \"error\": true, \"code\": \"101403\", \"message\": \"No account linked to this email\" } Condition : Le type ne correspond \u00e0 aucun type valide. Code : 400 { \"error\": true, \"code\": \"101404\", \"message\": \"Invalid type\" } Condition : ID de compte ext\u00e9rieur invalide. Code : 400 { \"error\": true, \"code\": \"101405\", \"message\": \"Invalid external account ID\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#inscription","text":"Route de d'inscription d'un utilisateur (client ou entreprise). URL : /auth/register Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire name string Nom et pr\u00e9nom du client ou de l'entreprise \u2714\ufe0f email string Email du client ou de l'entreprise \u2714\ufe0f phone string T\u00e9l\u00e9phone du client ou de l'entreprise - password string Mot de passe du client ou de l'entreprise \u2714\ufe0f address string Adresse du client ou de l'entreprise \u2714\ufe0f zip string Code postal du client ou de l'entreprise \u2714\ufe0f city string Ville du client ou de l'entreprise \u2714\ufe0f country string Pays du client ou de l'entreprise \u2714\ufe0f numTVA string Num\u00e9ro de TVA de l'entreprise \u2714\ufe0f numSIRET string Num\u00e9ro de SIRET de l'entreprise \u2714\ufe0f numRCS string Num\u00e9ro de RCS de l'entreprise \u2714\ufe0f","title":"Inscription"},{"location":"#requete-reussie_2","text":"Code : 201 { \"error\": false, \"message\": \"Successfully registred\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_2","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"101051\", \"message\": \"Missing important fields\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101052\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101053\", \"message\": \"Invalid phone number\" } Condition : Mot de passe invalide ou \u00e0 faible s\u00e9curit\u00e9 (Une majuscule, un num\u00e9ro, un caract\u00e8re sp\u00e9cial, et de 7 \u00e0 30 charact\u00e8res). Code : 400 { \"error\": true, \"code\": \"101054\", \"message\": \"Invalid password format\" } Condition : Num\u00e9ro de TVA invalide. Code : 400 { \"error\": true, \"code\": \"101055\", \"message\": \"Invalid TVA number\" } Condition : Num\u00e9ro de SIRET invalide. Code : 400 { \"error\": true, \"code\": \"101056\", \"message\": \"Invalid SIRET number\" } Condition : Num\u00e9ro de RCS invalide. Code : 400 { \"error\": true, \"code\": \"101057\", \"message\": \"Invalid RCS number\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"101058\", \"message\": \"This email is already used\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#mot-de-passe-oublie","text":"Route de r\u00e9cup\u00e9ration du mot depasse utilisateur. Le mail contient un lien de redirection sur le site pour modifier le mot de passe. URL : /auth/request-password-lost Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f","title":"Mot de passe oubli\u00e9"},{"location":"#requete-reussie_3","text":"Code : 200 { \"error\": false, \"message\": \"Email successfully send\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_3","text":"Condition : Champ email manquant. Code : 400 { \"error\": true, \"code\": \"101101\", \"message\": \"Missing email field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101102\", \"message\": \"Invalid email addresse\" } Condition : Echec de l'envoi du mail. Code : 500 { \"error\": true, \"code\": \"500001\", \"message\": \"Internal server error, email can not be send\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#verification-de-lemail-envoi","text":"Route d'envoi d'un email contenant un code de v\u00e9rification \u00e0 un utilisateur apr\u00e8s son inscription, ou si il change de mail dans son profil. URL : /auth/request-verify-email Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f","title":"V\u00e9rification de l'email (envoi)"},{"location":"#requete-reussie_4","text":"Code : 200 { \"error\": false, \"message\": \"Email successfully send\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_4","text":"Condition : Champ email manquant. Code : 400 { \"error\": true, \"code\": \"101151\", \"message\": \"Missing email field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101152\", \"message\": \"Invalid email addresse\" } Condition : Email d\u00e9j\u00e0 v\u00e9rifi\u00e9. Code : 400 { \"error\": true, \"code\": \"101153\", \"message\": \"Email already verified\" } Condition : Echec de l'envoi du mail. Code : 500 { \"error\": true, \"code\": \"500002\", \"message\": \"Internal server error, email can not be send\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#verification-de-lemail-verification","text":"Route de v\u00e9rification de l'email gr\u00e2ce au code re\u00e7u dans le mail de la requ\u00eate pr\u00e9c\u00e9dente. Le code est valable 10 minutes. URL : /auth/verify-email Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f code string Code \u00e0 6 chiffre re\u00e7u dans le mail \u2714\ufe0f","title":"V\u00e9rification de l'email (v\u00e9rification)"},{"location":"#requete-reussie_5","text":"Code : 200 { \"error\": false, \"message\": \"Successful verification\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_5","text":"Condition : Champ email ou code manquant. Code : 400 { \"error\": true, \"code\": \"101201\", \"message\": \"Missing email or code field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101202\", \"message\": \"Invalid email addresse\" } Condition : Code ou adresse email invalide (utilisateur introuvable). Code : 400 { \"error\": true, \"code\": \"101203\", \"message\": \"Invalid user information\" } Condition : L'email n'est pas en court de v\u00e9rification. Code : 400 { \"error\": true, \"code\": \"101204\", \"message\": \"You need to make a request to check this email\" } Condition : Mauvais code. Code : 400 { \"error\": true, \"code\": \"101205\", \"message\": \"Wrong code\" } Condition : Code expir\u00e9. Code : 400 { \"error\": true, \"code\": \"101206\", \"message\": \"This code is no longer valid\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#double-authentification-envoi","text":"Route d'envoi d'un email contenant un code de v\u00e9rification \u00e0 un utilisateur lors de sa connexion, si la double authentification est activ\u00e9. URL : /auth/request-double-auth Methode : POST Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f","title":"Double authentification (envoi)"},{"location":"#requete-reussie_6","text":"Code : 200 { \"error\": false, \"message\": \"Email successfully send\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_6","text":"Condition : Champ email manquant. Code : 400 { \"error\": true, \"code\": \"101251\", \"message\": \"Missing email\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"101252\", \"message\": \"Invalid email addresse\" } Condition : ID ou adresse email invalide (utilisateur introuvable). Code : 400 { \"error\": true, \"code\": \"101253\", \"message\": \"Invalid user information\" } Condition : Double authentification d\u00e9sactiv\u00e9. Code : 400 { \"error\": true, \"code\": \"101254\", \"message\": \"Double authentification is not activated on this account\" } Condition : Echec de l'envoi du mail. Code : 500 { \"error\": true, \"code\": \"500003\", \"message\": \"Internal server error, email can not be send\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#double-authentification-activation","text":"Route d'activation de la double authentification pour un utilisateur. URL : /auth/active-double-auth Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire isActive boolean Bool\u00e9en pour d\u00e9finir si la double authentification est acti\u00e9 ou non \u2714\ufe0f","title":"Double authentification (activation)"},{"location":"#requete-reussie_7","text":"Code : 200 { \"error\": false, \"message\": \"Double authentification successfully updated\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_7","text":"Condition : Champ isActive manquant. Code : 400 { \"error\": true, \"code\": \"101301\", \"message\": \"Missing isActive field\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#deconnexion","text":"Route de d\u00e9connexion pour n'importe quel type d'utilisateur. URL : /auth/disconnect Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - -","title":"D\u00e9connexion"},{"location":"#requete-reussie_8","text":"Code : 200 { \"error\": false, \"message\": \"Successfully logout\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#profil-utilisateur","text":"","title":"Profil utilisateur"},{"location":"#recuperation-du-profil","text":"Route de r\u00e9cup\u00e9ration des informations de son profil utilisateur. URL : /account Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - -","title":"R\u00e9cup\u00e9ration du profil"},{"location":"#requete-reussie_9","text":"Code : 200 { \"error\": false, \"message\": \"Successful profil acquisition\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", \"needVerifyEmail\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#modification-des-informations-personnelles","text":"Route de modification des informations personnelles, des informations de contact. URL : /account/information Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire name string Nom et pr\u00e9nom de l'utilisateur ou de l'entreprise - email string Email de l'utilisateur ou de l'entreprise - phone string T\u00e9l\u00e9phone de l'utilisateur ou de l'entreprise -","title":"Modification des informations personnelles"},{"location":"#requete-reussie_10","text":"Code : 200 { \"error\": false, \"message\": \"Profile successfully updated\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", \"needVerifyEmail\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_8","text":"Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"102051\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"102052\", \"message\": \"Invalid phone number\" } Condition : Date de naisseance invalide (DD-MM-YYY). Code : 400 { \"error\": true, \"code\": \"102053\", \"message\": \"Invalid date format\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"102054\", \"message\": \"This email is already used\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#modification-de-lavatar","text":"Route de modification de l'avatar de l'utilisateur. URL : /account/avatar Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire avatarPath string nom du fichier pour la r\u00e9cup\u00e9ration sur firecloud storage \u2714\ufe0f","title":"Modification de l'avatar"},{"location":"#requete-reussie_11","text":"Code : 200 { \"error\": false, \"message\": \"Profile successfully updated\", }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_9","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"102301\", \"message\": \"Missing important fields\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#modification-du-mot-de-passe","text":"Route de modification du mot de passe de l'utilisateur. URL : /account/password Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire email string Email de l'utilisateur \u2714\ufe0f oldPassword string Ancien mot de passe de l'utilisateur \u2714\ufe0f newPassword string Nouveau mot de passe de l'utilisateur \u2714\ufe0f","title":"Modification du mot de passe"},{"location":"#requete-reussie_12","text":"Code : 200 { \"error\": false, \"message\": \"Password successfully updated\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", \"needVerifyEmail\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_10","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"102101\", \"message\": \"Missing important fields\" } Condition : Ancien mot de passe invalide. Code : 400 { \"error\": true, \"code\": \"102102\", \"message\": \"Invalid old password\" } Condition : Nouveau mot de passe invalide ou \u00e0 faible s\u00e9curit\u00e9. Code : 400 { \"error\": true, \"code\": \"102103\", \"message\": \"Invalid password format\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#modification-de-ladresse","text":"Route de modification des information de location de l'utilisateur. URL : /account/address Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire address string Adresse de l'utilisateur ou de l'entreprise - zip string Code postal de l'utilisateur ou de l'entreprise - city string Ville de l'utilisateur ou de l'entreprise - country string Pays de l'utilisateur ou de l'entreprise -","title":"Modification de l'adresse"},{"location":"#requete-reussie_13","text":"Code : 200 { \"error\": false, \"message\": \"Address successfully updated\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", \"needVerifyEmail\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_11","text":"Condition : Si l'utilisateur faisant la requ\u00eate n'est ni g\u00e9rant, ni un client. Code : 400 { \"error\": true, \"code\": \"102151\", \"message\": \"You cannot edit your address with this account\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#modification-des-informations-entreprise","text":"Route de modification des informations li\u00e9es \u00e0 l'entreprise d'un utilisateur. URL : /account/enterprise Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire activity string Activit\u00e9 de l'entreprise - numTVA string Num\u00e9ro de TVA de l'entreprise - numSIRET string Num\u00e9ro de SIRET de l'entreprise - numRCS string Num\u00e9ro de RCS de l'entreprise -","title":"Modification des informations entreprise"},{"location":"#requete-reussie_14","text":"Code : 200 { \"error\": false, \"message\": \"Enterprise successfully updated\", \"user\" : { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"token\" : \"\", \"refreshToken\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", \"needVerifyEmail\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_12","text":"Condition : Si l'utilisateur faisant la requ\u00eate n'est ni g\u00e9rant, ni un client. Code : 400 { \"error\": true, \"code\": \"102201\", \"message\": \"You cannot edit your enterprise with this account\" } Condition : Num\u00e9ro de TVA invalide. Code : 400 { \"error\": true, \"code\": \"102202\", \"message\": \"Invalid TVA number\" } Condition : Num\u00e9ro de SIRET invalide. Code : 400 { \"error\": true, \"code\": \"102203\", \"message\": \"Invalid SIRET number\" } Condition : Num\u00e9ro de RCS invalide. Code : 400 { \"error\": true, \"code\": \"102204\", \"message\": \"Invalid RCS number\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#enregistrement-dun-appareil","text":"Route d'enregistrement pour l'envoi de notification avec firebase URL : /account/register-fcm Methode : PUT Token requis : NON Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire deviceId string ID de l'appareil \u2714\ufe0f token string Token d'authentification pour l'enregistrement donn\u00e9 par firebase \u2714\ufe0f","title":"Enregistrement d'un appareil"},{"location":"#requete-reussie_15","text":"Code : 201 { \"error\": false, \"message\": \"Device successfully added\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_13","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"102251\", \"message\": \"Missing important fields\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#utilisateurs","text":"","title":"Utilisateurs"},{"location":"#liste-des-utilisateurs","text":"Route d'obtention de la liste des utilisateurs en fonction des permissions. Un client verra son employ\u00e9 r\u00e9f\u00e9rent et le g\u00e9rant, un employ\u00e9 verra ses clients et les autres employ\u00e9s, et pour finir le g\u00e9rant verra l'ensemble des utilisateurs de l'application. URL : /users Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - -","title":"Liste des utilisateurs"},{"location":"#requete-reussie_16","text":"Code : 200 { \"error\": false, \"message\": \"Successful users acquisition\", \"users\": [{ \"id\": \"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", },{...}] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#recuperation-dun-utilisateur","text":"Route de r\u00e9cup\u00e9ration des informations d'un utilisateur gr\u00e2ce \u00e0 son id. URL : /user/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de l'utilisateur cible \u2714\ufe0f","title":"R\u00e9cup\u00e9ration d'un utilisateur"},{"location":"#requete-reussie_17","text":"Code : 200 { \"error\": false, \"message\": \"Successful user acquisition\", \"user\": { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", \"userId\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_14","text":"Condition : Id utilisateur manquant. Code : 400 { \"error\": true, \"code\": \"103101\", \"message\": \"Missing id field\" } Condition : Id utilisateur invalide. Code : 400 { \"error\": true, \"code\": \"103102\", \"message\": \"Invalid user id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#recuperation-de-lhistorique","text":"Route de r\u00e9cup\u00e9ration de l'historique d'un utilisateur. URL : /user/history/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de l'utilisateur cibl\u00e9 \u2714\ufe0f","title":"R\u00e9cup\u00e9ration de l'historique"},{"location":"#requete-reussie_18","text":"Code : 200 { \"error\": false, \"message\": \"Successful history acquisition\", \"history\" : [{ \"_id\":\"\", \"action\": { \"method\": \"\", \"route\": \"\", }, \"userEmail\": \"\", \"success\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_15","text":"Condition : Id utilisateur manquant. Code : 400 { \"error\": true, \"code\": \"103451\", \"message\": \"Missing id field\" } Condition : Id utilisateur invalide. Code : 400 { \"error\": true, \"code\": \"103452\", \"message\": \"Invalid user id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#creer-un-client","text":"Route de cr\u00e9ation d'un client par un employ\u00e9 ou un g\u00e9rant. URL : /customer Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire userId string ID de l'employ\u00e9 r\u00e9f\u00e9rent du client - name string Nom et pr\u00e9nom du client ou de l'entreprise \u2714\ufe0f email string Email du client ou de l'entreprise \u2714\ufe0f password string Mot de passe du client ou de l'entreprise \u2714\ufe0f phone string T\u00e9l\u00e9phone du client ou de l'entreprise - address string Adresse du client ou de l'entreprise - zip string Code postal du client ou de l'entreprise - city string Ville du client ou de l'entreprise - country string Pays du client ou de l'entreprise - numTVA string Num\u00e9ro de TVA de l'entreprise - numSIRET string Num\u00e9ro de SIRET de l'entreprise - numRCS string Num\u00e9ro de RCS de l'entreprise - | note | string | Annotation sur le client sur le client | - |","title":"Cr\u00e9er un client"},{"location":"#requete-reussie_19","text":"Code : 200 { \"error\": false, \"message\": \"Customer successfully created\", \"customer\": { \"id\":\"\", \"userId\": \"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_16","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103151\", \"message\": \"Missing important fields\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103152\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103153\", \"message\": \"Invalid phone number\" } Condition : Mot de passe invalide ou \u00e0 faible s\u00e9curit\u00e9. Code : 400 { \"error\": true, \"code\": \"103154\", \"message\": \"Invalid password format\" } Condition : Num\u00e9ro de TVA invalide. Code : 400 { \"error\": true, \"code\": \"103155\", \"message\": \"Invalid TVA number\" } Condition : Num\u00e9ro de SIRET invalide. Code : 400 { \"error\": true, \"code\": \"103156\", \"message\": \"Invalid SIRET number\" } Condition : Num\u00e9ro de RCS invalide. Code : 400 { \"error\": true, \"code\": \"103157\", \"message\": \"Invalid RCS number\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"103158\", \"message\": \"This email is already used\" } Condition : Id employ\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"103159\", \"message\": \"Invalid employee id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#modifier-un-client","text":"Route de modification d'un client par un employ\u00e9 ou un g\u00e9rant. URL : /customer Methode : PUT Token requis : `` Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID du client dont on veut modifier les informations \u2714\ufe0f userId string ID de l'employ\u00e9 r\u00e9f\u00e9rent du client - name string Nom et pr\u00e9nom du client ou de l'entreprise - email string Email du client ou de l'entreprise - phone string T\u00e9l\u00e9phone du client ou de l'entreprise - address string Adresse du client ou de l'entreprise - zip string Code postal du client ou de l'entreprise - city string Ville du client ou de l'entreprise - country string Pays du client ou de l'entreprise - numTVA string Num\u00e9ro de TVA de l'entreprise - numSIRET string Num\u00e9ro de SIRET de l'entreprise - numRCS string Num\u00e9ro de RCS de l'entreprise - | note | string | Annotation sur le client sur le client | - |","title":"Modifier un client"},{"location":"#requete-reussie_20","text":"Code : 200 { \"error\": false, \"message\": \"Customer successfully updated\", \"user\": { \"id\":\"\", \"userId\": \"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"type\" : \"\", \"address\" : \"\", \"zip\" : \"\", \"city\" : \"\", \"country\" : \"\", \"activity\" : \"\", \"numTVA\" : \"\", \"numSIRET\" : \"\", \"numRCS\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_17","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103201\", \"message\": \"Missing id field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103202\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103203\", \"message\": \"Invalid phone number\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"103204\", \"message\": \"Invalid customer id\" } Condition : Num\u00e9ro de TVA invalide. Code : 400 { \"error\": true, \"code\": \"103205\", \"message\": \"Invalid TVA number\" } Condition : Num\u00e9ro de SIRET invalide. Code : 400 { \"error\": true, \"code\": \"103206\", \"message\": \"Invalid SIRET number\" } Condition : Num\u00e9ro de RCS invalide. Code : 400 { \"error\": true, \"code\": \"103207\", \"message\": \"Invalid RCS number\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"103208\", \"message\": \"This email is already used\" } Condition : Id employ\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"103209\", \"message\": \"Invalid employee id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#supprimer-un-client","text":"Route de suppression d'un client par un employ\u00e9 ou un g\u00e9rant. La requ\u00eate ne supprimera pas r\u00e9ellement l'utilisateur, elle le d\u00e9sactivera seulement. URL : /customer/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du client \u00e0 supprimer \u2714\ufe0f","title":"Supprimer un client"},{"location":"#requete-reussie_21","text":"Code : 200 { \"error\": false, \"message\": \"Customer successfully deleted\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_18","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103251\", \"message\": \"Missing id field\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"103252\", \"message\": \"Invalid customer id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#creer-un-employe","text":"Route de cr\u00e9ation d'un employ\u00e9 par un g\u00e9rant. URL : /employee Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire name string Nom et pr\u00e9nom de l'employ\u00e9 \u2714\ufe0f email string Email de l'employ\u00e9 \u2714\ufe0f phone string T\u00e9l\u00e9phone de l'employ\u00e9 - password string Mot de passe de l'employ\u00e9 \u2714\ufe0f role string R\u00f4le de l'employ\u00e9 au sein de l'entreprise \u2714\ufe0f","title":"Cr\u00e9er un employ\u00e9"},{"location":"#requete-reussie_22","text":"Code : 200 { \"error\": false, \"message\": \"Employee successfully created\", \"employee\": { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"role\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_19","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103301\", \"message\": \"Missing important fields\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103302\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103303\", \"message\": \"Invalid phone number\" } Condition : Mot de passe invalide ou \u00e0 faible s\u00e9curit\u00e9. Code : 400 { \"error\": true, \"code\": \"103304\", \"message\": \"Invalid password format\" } Condition : R\u00f4le invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103305\", \"message\": \"Invalid enterprise role\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"103306\", \"message\": \"This email is already used\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#modifier-un-employe","text":"Route de cr\u00e9ation d'un employ\u00e9 par un g\u00e9rant. URL : /employee Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de l'employ\u00e9 \u00e0 modifier \u2714\ufe0f name string Nom et pr\u00e9nom de l'employ\u00e9 - email string Email de l'employ\u00e9 - phone string T\u00e9l\u00e9phone de l'employ\u00e9 - role string R\u00f4le de l'employ\u00e9 au sein de l'entreprise -","title":"Modifier un employ\u00e9"},{"location":"#requete-reussie_23","text":"Code : 200 { \"error\": false, \"message\": \"Employee successfully updated\", \"employee\": { \"id\":\"\", \"avatar\" : \"\", \"name\" : \"\", \"email\" : \"\", \"phone\" : \"\", \"role\" : \"\", \"createdAt\" : \"\", \"updatedAt\" : \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_20","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103351\", \"message\": \"Missing id field\" } Condition : Adresse email invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103352\", \"message\": \"Invalid email addresse\" } Condition : Num\u00e9ro de t\u00e9l\u00e9phone invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103353\", \"message\": \"Invalid phone number\" } Condition : Id de l'employ\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"103354\", \"message\": \"Invalid employee id\" } Condition : R\u00f4le invalide (format invalide). Code : 400 { \"error\": true, \"code\": \"103355\", \"message\": \"Invalid enterprise role\" } Condition : L'email est d\u00e9j\u00e0 utilis\u00e9 par un autre utilisateur. Code : 400 { \"error\": true, \"code\": \"103356\", \"message\": \"This email is already used\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#supprimer-un-employe","text":"Route de suppression d'un employ\u00e9 par un g\u00e9rant. La requ\u00eate ne supprimera pas r\u00e9ellement l'employ\u00e9, elle le d\u00e9sactivera seulement. URL : /employee/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de l'employ\u00e9 \u00e0 supprimer \u2714\ufe0f","title":"Supprimer un employ\u00e9"},{"location":"#requete-reussie_24","text":"Code : 200 { \"error\": false, \"message\": \"Employee successfully deleted\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_21","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"103401\", \"message\": \"Missing id field\" } Condition : Id de l'employ\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"103402\", \"message\": \"Invalid employee id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#factures","text":"","title":"Factures"},{"location":"#liste-des-factures","text":"Route de r\u00e9cup\u00e9ration de la liste de ses factures pour un client, des factures de tout ses clients pour un employ\u00e9 et de tous les utilisateurs pour un g\u00e9rant URL : /bills Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - -","title":"Liste des factures"},{"location":"#requete-reussie_25","text":"Code : 200 { \"error\": false, \"message\": \"Successful bills acquisition\", \"bills\": [{ \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"billNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"amountPaid\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"payementDate\": \"\", },{...}] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#recuperation-dune-facture","text":"Route de r\u00e9cup\u00e9ration d'une facture. Un client ne peut r\u00e9cup\u00e9rer que ses factures, un employ\u00e9 les factures de ses clients, et un g\u00e9rant les factures de tous les utilisateurs. URL : /bill/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la facture \u00e0 r\u00e9cup\u00e9rer \u2714\ufe0f","title":"R\u00e9cup\u00e9ration d'une facture"},{"location":"#requete-reussie_26","text":"Code : 200 { \"error\": false, \"message\": \"Successful bill acquisition\", \"bill\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"billNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"amountPaid\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"payementDate\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_22","text":"Condition : ID de facture invalide. Code : 400 { \"error\": true, \"code\": \"104101\", \"message\": \"Invalid bill id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#creer-une-facture","text":"Route de cr\u00e9ation d'une facture pour les employ\u00e9s et les g\u00e9rants. URL : /bill Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire status string Statut de la facture \u2714\ufe0f clientId string ID du client li\u00e9 \u00e0 la facture \u2714\ufe0f entrepriseId string ID de l'entreprise du g\u00e9rant \u2714\ufe0f billNum string Num\u00e9ro unique de facture \u2714\ufe0f | deadline | date | Date limite \u00e0 laquelle le client peut payer la facture | \u2714\ufe0f |","title":"Cr\u00e9er une facture"},{"location":"#requete-reussie_27","text":"Code : 200 { \"error\": false, \"message\": \"Bill successfuly created\", \"bill\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"billNum\": \"\", \"articles\": [], \"totalHT\": \"\", \"totalTTC\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_23","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104151\", \"message\": \"Missing important fields\" } Condition : Statut de facture invalide (Non pay\u00e9e, Partiellement pay\u00e9e, Pay\u00e9e, En retard). Code : 400 { \"error\": true, \"code\": \"104152\", \"message\": \"Invalid bill status\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"104153\", \"message\": \"Invalid customer id\" } Condition : ID de l'entreprise invalide. Code : 400 { \"error\": true, \"code\": \"104154\", \"message\": \"Invalid enterprise id\" } Condition : Num\u00e9ro de facture invalide. Code : 400 { \"error\": true, \"code\": \"104155\", \"message\": \"Invalid bill number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"104156\", \"message\": \"Invalid deadline\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#modifier-une-facture","text":"Route de modification d'une facture par un employ\u00e9 ou un g\u00e9rant. URL : /bill Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de la facture \u00e0 modifier \u2714\ufe0f status string Statut de la facture - clientId string ID du client li\u00e9 \u00e0 la facture - billNum string Num\u00e9ro unique de facture - articles array Tableaux de l'ensemble des articles de la facture - | deadline | date | Date limite \u00e0 laquelle le client peut payer la facture | - |","title":"Modifier une facture"},{"location":"#requete-reussie_28","text":"Code : 200 { \"error\": false, \"message\": \"Bill successfully updated\", \"bill\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"billNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"amountPaid\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"payementDate\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_24","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104201\", \"message\": \"Missing important fields\" } Condition : Statut de facture invalide (Non pay\u00e9e, Partiellement pay\u00e9e, Pay\u00e9e, En retard). Code : 400 { \"error\": true, \"code\": \"104202\", \"message\": \"Invalid bill status\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"104203\", \"message\": \"Invalid customer id\" } Condition : ID de l'entreprise invalide. Code : 400 { \"error\": true, \"code\": \"104204\", \"message\": \"Invalid enterprise id\" } Condition : Num\u00e9ro de facture invalide. Code : 400 { \"error\": true, \"code\": \"104205\", \"message\": \"Invalid bill number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"104206\", \"message\": \"Invalid deadline\" } Condition : Format de l'article invalide (ID ou quantit\u00e9 manquante). Code : 400 { \"error\": true, \"code\": \"104207\", \"message\": \"Invalid article format\" } Condition : ID d'un article invalide. Code : 400 { \"error\": true, \"code\": \"104208\", \"message\": \"Some article id are invalid\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#supprimer-une-facture","text":"Route de suppression d'une facture par un employ\u00e9 ou un g\u00e9rant. URL : /bill/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la facture \u00e0 supprimer \u2714\ufe0f","title":"Supprimer une facture"},{"location":"#requete-reussie_29","text":"Code : 200 { \"error\": false, \"message\": \"Bill successfully deleted\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_25","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104251\", \"message\": \"Missing id field\" } Condition : ID de facture invalide. Code : 400 { \"error\": true, \"code\": \"104252\", \"message\": \"Invalid bill id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#relancer-un-client-sur-une-facture","text":"Route d'envoi d'un email et d'une notification pour la relance sur le payement d'une facture. URL : /bill/:billId/customer/:clientId/mail Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire billId string ID de la facture \u2714\ufe0f clientId string ID du client li\u00e9 \u00e0 la facture \u2714\ufe0f","title":"Relancer un client sur une facture"},{"location":"#requete-reussie_30","text":"Code : 200 { \"error\": false, \"message\": \"Mail successfully send\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_26","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104301\", \"message\": \"Missing important fields\" } Condition : Id de la facture invalide. Code : 400 { \"error\": true, \"code\": \"104302\", \"message\": \"Invalid bill id\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"104153\", \"message\": \"Invalid customer id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#devis","text":"","title":"Devis"},{"location":"#liste-des-devis","text":"Route de r\u00e9cup\u00e9ration de la liste de ses devis pour un client, des devis de tout ses clients pour un employ\u00e9 et de tous les utilisateurs pour un g\u00e9rant. URL : /estimates Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - -","title":"Liste des devis"},{"location":"#requete-reussie_31","text":"Code : 200 { \"error\": false, \"message\": \"Successful etimates acquisition\", \"estimates\": [{ \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"estimateNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_27","text":"","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#recuperation-dun-devis","text":"Route de r\u00e9cup\u00e9ration d'un devis. Un client ne peut r\u00e9cup\u00e9rer que ses devis, un employ\u00e9 les devis de ses clients, et un g\u00e9rant les devis de tous les utilisateurs. URL : /estimate/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du devis \u00e0 r\u00e9cup\u00e9rer \u2714\ufe0f","title":"R\u00e9cup\u00e9ration d'un devis"},{"location":"#requete-reussie_32","text":"Code : 200 { \"error\": false, \"message\": \"Successful bill acquisition\", \"estimate\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"estimateNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_28","text":"Condition : ID de devis invalide. Code : 400 { \"error\": true, \"code\": \"105101\", \"message\": \"Invalid estimate id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#creer-un-devis","text":"Route de cr\u00e9ation d'un devis pour les employ\u00e9s et les g\u00e9rants. URL : /estimate Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire status string Statut du devis \u2714\ufe0f clientId string ID du client li\u00e9 au devis \u2714\ufe0f entrepriseId string ID de l'entreprise du g\u00e9rant \u2714\ufe0f estimateNum string Num\u00e9ro unique de devis \u2714\ufe0f deadline date Date limite \u00e0 laquelle le client peut accepter le devis \u2714\ufe0f","title":"Cr\u00e9er un devis"},{"location":"#requete-reussie_33","text":"Code : 200 { \"error\": false, \"message\": \"estimate successfuly created\", \"estimate\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"estimateNum\": \"\", \"articles\": [], \"totalHT\": \"\", \"totalTTC\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_29","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"105151\", \"message\": \"Missing important fields\" } Condition : Statut du devis invalide (En attente, Refus\u00e9, Accept\u00e9, En retard). Code : 400 { \"error\": true, \"code\": \"105152\", \"message\": \"Invalid estimate status\" } Condition : ID du client invalide. Code : 400 { \"error\": true, \"code\": \"105153\", \"message\": \"Invalid customer id\" } Condition : ID de l'entreprise invalide. Code : 400 { \"error\": true, \"code\": \"105154\", \"message\": \"Invalid enterprise id\" } Condition : Num\u00e9ro de devis invalide. Code : 400 { \"error\": true, \"code\": \"105155\", \"message\": \"Invalid estimate number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"105156\", \"message\": \"Invalid deadline\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#modifier-un-devis","text":"Route de modification d'un devis par un employ\u00e9 ou un g\u00e9rant. URL : /estimate Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID du devis \u00e0 modifier \u2714\ufe0f status string Statut du devis - clientId string ID du client li\u00e9 au devis - estimateNum string Num\u00e9ro unique de devis - articles array Tableaux de l'ensemble des articles du devis - deadline date Date limite \u00e0 laquelle le client peut payer le devis -","title":"Modifier un devis"},{"location":"#requete-reussie_34","text":"Code : 200 { \"error\": false, \"message\": \"Estimate successfully updated\", \"estimate\": { \"id\": \"\", \"status\": \"\", \"clientId\": \"\", \"entrepriseId\": \"\", \"billNum\": \"\", \"articles\": [{ \"articleId\": \"\", \"quantity\": \"\", },{...}], \"totalHT\": \"\", \"totalTTC\": \"\", \"amountPaid\": \"\", \"deadline\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"payementDate\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_30","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"105201\", \"message\": \"Missing important fields\" } Condition : Statut du devis invalide (En attente, Refus\u00e9, Accept\u00e9, En retard). Code : 400 { \"error\": true, \"code\": \"105202\", \"message\": \"Invalid estimate status\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"105203\", \"message\": \"Invalid customer id\" } Condition : ID de l'entreprise invalide. Code : 400 { \"error\": true, \"code\": \"105204\", \"message\": \"Invalid enterprise id\" } Condition : Num\u00e9ro de devis invalide. Code : 400 { \"error\": true, \"code\": \"105205\", \"message\": \"Invalid estimate number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"105206\", \"message\": \"Invalid deadline\" } Condition : Format de l'article invalide (ID ou quantit\u00e9 manquante). Code : 400 { \"error\": true, \"code\": \"105207\", \"message\": \"Invalid article format\" } Condition : ID d'un article invalide. Code : 400 { \"error\": true, \"code\": \"105208\", \"message\": \"Some article id are invalid\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#supprimer-un-devis","text":"Route de suppression d'un devis par un employ\u00e9 ou un g\u00e9rant. URL : /estimate/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du devis \u00e0 supprimer \u2714\ufe0f","title":"Supprimer un devis"},{"location":"#requete-reussie_35","text":"Code : 200 { \"error\": false, \"message\": \"Estimate successfully deleted\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_31","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"105251\", \"message\": \"Missing id field\" } Condition : ID de devis invalide. Code : 400 { \"error\": true, \"code\": \"105252\", \"message\": \"Invalid estimate id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#relancer-un-client-sur-un-devis","text":"Route d'envoi d'un email et d'une notification pour la relance de l'acceptation d'un devis. URL : /estimate/:estimateId/customer/:clientId/mail Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire estimateId string ID du devis \u2714\ufe0f clientId string ID du client li\u00e9 au devis \u2714\ufe0f","title":"Relancer un client sur un devis"},{"location":"#requete-reussie_36","text":"Code : 200 { \"error\": false, \"message\": \"Mail successfully send\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_32","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"105301\", \"message\": \"Missing important fields\" } Condition : Id du devis invalide. Code : 400 { \"error\": true, \"code\": \"105302\", \"message\": \"Invalid estimate id\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"105303\", \"message\": \"Invalid customer id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#transformer-un-devis-en-facture","text":"Route de transformation d'un devis en une facture en respectant les articles. URL : /estimate/:estimateId/customer/:clientId/mail Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire estimateId string ID du devis \u2714\ufe0f clientId string ID du client li\u00e9 au devis \u2714\ufe0f","title":"Transformer un devis en facture"},{"location":"#requete-reussie_37","text":"Code : 200 { \"error\": false, \"message\": \"Mail successfully send\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_33","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"105351\", \"message\": \"Missing important fields\" } Condition : Id du devis invalide. Code : 400 { \"error\": true, \"code\": \"105352\", \"message\": \"Invalid estimate id\" } Condition : Id du client invalide. Code : 400 { \"error\": true, \"code\": \"105353\", \"message\": \"Invalid customer id\" } Condition : Statut du devis invalide (d\u00e9j\u00e0 accept\u00e9). Code : 400 { \"error\": true, \"code\": \"105354\", \"message\": \"Invalid estimate status\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#articles","text":"","title":"Articles"},{"location":"#liste-des-articles","text":"Route de r\u00e9cup\u00e9ration de la liste des articles pour un g\u00e9rant ou un employ\u00e9. URL : /articles Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - -","title":"Liste des articles"},{"location":"#requete-reussie_38","text":"Code : 200 { \"error\": false, \"message\": \"Successful articles acquisition\", \"articles\": [{ \"_id\": \"\", \"name\": \"\", \"tva\": \"\", \"price\": \"\", \"accountNumber\": \"\", \"description\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#creer-un-article","text":"Route de cr\u00e9ation d'un article pour un employ\u00e9 ou un g\u00e9rant. URL : /article Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire name string Nom de l'article \u2714\ufe0f accountNumber number Num\u00e9ro de compte comptable de l'article \u2714\ufe0f price number Prix unitaire de l'article \u2714\ufe0f tva number TVA appliqu\u00e9 \u00e0 l'article \u2714\ufe0f description string Description de l'article -","title":"Cr\u00e9er un article"},{"location":"#requete-reussie_39","text":"Code : 200 { \"error\": false, \"message\": \"Article successfully created\", \"article\": { \"_id\": \"\", \"name\": \"\", \"tva\": \"\", \"price\": \"\", \"accountNumber\": \"\", \"description\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_34","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"106101\", \"message\": \"Missing important fields\" } Condition : Num\u00e9ro de compte invalide. Code : 400 { \"error\": true, \"code\": \"106102\", \"message\": \"Invalid account number\" } Condition : Format du prix invalide (Float). Code : 400 { \"error\": true, \"code\": \"106103\", \"message\": \"Invalid price format\" } Condition : Format de la taxe invalide (Float). Code : 400 { \"error\": true, \"code\": \"106104\", \"message\": \"Invalid tva format\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#supprimer-un-article","text":"Route de suppression d'un article par un employ\u00e9 ou un g\u00e9rant. URL : /article/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de l'article \u00e0 supprimer \u2714\ufe0f","title":"Supprimer un article"},{"location":"#requete-reussie_40","text":"Code : 200 { \"error\": false, \"message\": \"Article successfully deleted\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_35","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"106151\", \"message\": \"Missing id field\" } Condition : ID de l'article invalide. Code : 400 { \"error\": true, \"code\": \"106152\", \"message\": \"Invalid article id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#projets","text":"","title":"Projets"},{"location":"#liste-des-projets","text":"Route de r\u00e9cup\u00e9ration de la liste des projets pour un employ\u00e9 ou un g\u00e9rant. URL : /projects Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - -","title":"Liste des projets"},{"location":"#requete-reussie_41","text":"Code : 200 { \"error\": false, \"message\": \"Successful projects acquisition\", \"projects\": [{ \"projectNum\": \"\", \"id\": \"\", \"title\": \"\", \"status\": \"\", \"clientId\": \"\", \"progression\": \"\", \"startDate\": \"\", \"deadline\": \"\", \"employees\": [\"\"], \"fixedRate\": \"\", \"hourlyRate\": \"\", \"estimateHour\": \"\", },{...}] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#recuperation-dun-projet","text":"Route de r\u00e9cup\u00e9ration d'un projet pour un employ\u00e9 ou un g\u00e9rant. URL : /project/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du projet \u00e0 r\u00e9cup\u00e9rer \u2714\ufe0f","title":"R\u00e9cup\u00e9ration d'un projet"},{"location":"#requete-reussie_42","text":"Code : 200 { \"error\": false, \"message\": \"Successful project acquisition\", \"projects\": [{ \"projectNum\": \"\", \"id\": \"\", \"title\": \"\", \"status\": \"\", \"clientId\": \"\", \"progression\": \"\", \"startDate\": \"\", \"deadline\": \"\", \"employees\": [\"\"], \"fixedRate\": \"\", \"hourlyRate\": \"\", \"estimateHour\": \"\", }] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_36","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"108101\", \"message\": \"Missing id field\" } Condition : ID du projet invalide. Code : 400 { \"error\": true, \"code\": \"108102\", \"message\": \"Invalid project id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#creer-un-projet","text":"Route de cr\u00e9ation d'un projet par un employ\u00e9 ou un g\u00e9rant. URL : /project Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire projectNum string Num\u00e9ro unique de projet \u2714\ufe0f title string Titre du projet \u2714\ufe0f status string Statut d'avancement du projet \u2714\ufe0f clientId string ID du client li\u00e9 au projet \u2714\ufe0f progression number Progression du projet - startDate date Date de d\u00e9but du projet - deadline date Date d'\u00e9ch\u00e9ance du projet \u2714\ufe0f employees string Liste des employ\u00e9s li\u00e9s au projet \u2714\ufe0f fixedRate date Taux fixe - hourlyRate date Taux horaire - estimateHour number Nombre d'heure estim\u00e9 du projet -","title":"Cr\u00e9er un projet"},{"location":"#requete-reussie_43","text":"Code : 200 { \"error\": false, \"message\": \"Project successfully created\", \"project\": { \"projectNum\": \"\", \"id\": \"\", \"title\": \"\", \"status\": \"\", \"clientId\": \"\", \"progression\": \"\", \"startDate\": \"\", \"deadline\": \"\", \"employees\": [\"\"], \"fixedRate\": \"\", \"hourlyRate\": \"\", \"estimateHour\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_37","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"108151\", \"message\": \"Missing important fields\" } Condition : Statut du projet invalide (En attente, En cours, Termin\u00e9, En retard). Code : 400 { \"error\": true, \"code\": \"108152\", \"message\": \"Invalid project status\" } Condition : ID du client invalid. Code : 400 { \"error\": true, \"code\": \"108153\", \"message\": \"Invalid customer id\" } Condition : Num\u00e9ro de projet invalide. Code : 400 { \"error\": true, \"code\": \"108154\", \"message\": \"Invalid project number\" } Condition : Num\u00e9ro de progression invalide (0-100). Code : 400 { \"error\": true, \"code\": \"108155\", \"message\": \"Invalid progression number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"108156\", \"message\": \"Invalid deadline\" } Condition : Si un ID employ\u00e9 est invalide. Code : 400 { \"error\": true, \"code\": \"108157\", \"message\": \"Some employee id are invalid\" } Condition : Si le taux horaire et le taux fixe sont renseign\u00e9 en m\u00eame temps. Code : 400 { \"error\": true, \"code\": \"108158\", \"message\": \"You can't have both billing systems active\" } Condition : Format de taxe fixe invalide. Code : 400 { \"error\": true, \"code\": \"108159\", \"message\": \"Invalid fixed rate\" } Condition : Format de taxe horaire invalide. Code : 400 { \"error\": true, \"code\": \"108160\", \"message\": \"Invalid hourly rate\" } Condition : Format du temps estim\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"108161\", \"message\": \"Invalid estimate hour\" } Condition : Date de d\u00e9but situ\u00e9 apr\u00e8s la date d'\u00e9ch\u00e9ance. Code : 400 { \"error\": true, \"code\": \"108162\", \"message\": \"Start date can't be set after deadline\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#modifier-un-projet","text":"Route de modification d'un projet par un employ\u00e9 ou un g\u00e9rant. URL : /project Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID du projet \u00e0 modifier \u2714\ufe0f projectNum string Num\u00e9ro unique de projet - title string Titre du projet - status string Statut d'avancement du projet - clientId string ID du client li\u00e9 au projet - progression number Progression du projet - startDate date Date de d\u00e9but du projet - deadline date Date d'\u00e9ch\u00e9ance du projet - employees array Liste des employ\u00e9s li\u00e9s au projet - fixedRate date Taux fixe - hourlyRate date Taux horaire - estimateHour number Nombre d'heures estim\u00e9es \u00e0 la r\u00e9alisation du projet -","title":"Modifier un projet"},{"location":"#requete-reussie_44","text":"Code : 200 { \"error\": false, \"message\": \"Project successfully updated\", \"project\": { \"projectNum\": \"\", \"id\": \"\", \"title\": \"\", \"status\": \"\", \"clientId\": \"\", \"progression\": \"\", \"startDate\": \"\", \"deadline\": \"\", \"employees\": [\"\"], \"fixedRate\": \"\", \"hourlyRate\": \"\", \"estimateHour\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_38","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"108201\", \"message\": \"Missing id field\" } Condition : Statut du projet invalide (En attente, En cours, Termin\u00e9, En retard). Code : 400 { \"error\": true, \"code\": \"108202\", \"message\": \"Invalid project status\" } Condition : ID du client invalid. Code : 400 { \"error\": true, \"code\": \"108203\", \"message\": \"Invalid customer id\" } Condition : Num\u00e9ro de projet invalide. Code : 400 { \"error\": true, \"code\": \"108204\", \"message\": \"Invalid project number\" } Condition : Num\u00e9ro de progression invalide (0-100). Code : 400 { \"error\": true, \"code\": \"108205\", \"message\": \"Invalid progression number\" } Condition : Date d'\u00e9ch\u00e9ance invalide. Code : 400 { \"error\": true, \"code\": \"108206\", \"message\": \"Invalid deadline\" } Condition : Si un ID employ\u00e9 est invalide. Code : 400 { \"error\": true, \"code\": \"108207\", \"message\": \"Some employee id are invalid\" } Condition : Si le taux horaire et le taux fixe sont renseign\u00e9 en m\u00eame temps. Code : 400 { \"error\": true, \"code\": \"108208\", \"message\": \"You can't have both billing systems active\" } Condition : Format de taxe fixe invalide. Code : 400 { \"error\": true, \"code\": \"108209\", \"message\": \"Invalid fixed rate\" } Condition : Format de taxe horaire invalide. Code : 400 { \"error\": true, \"code\": \"108210\", \"message\": \"Invalid hourly rate\" } Condition : Format du temps estim\u00e9 invalide. Code : 400 { \"error\": true, \"code\": \"108211\", \"message\": \"Invalid estimate hour\" } Condition : Date de d\u00e9but situ\u00e9 apr\u00e8s la date d'\u00e9ch\u00e9ance. Code : 400 { \"error\": true, \"code\": \"108212\", \"message\": \"Start date can't be set after deadline\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#supprimer-un-projet","text":"Route de suppression d'un projet par un employ\u00e9 ou un g\u00e9rant. URL : /project/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du projet \u00e0 supprimer \u2714\ufe0f","title":"Supprimer un projet"},{"location":"#requete-reussie_45","text":"Code : 200 { \"error\": false, \"message\": \"Project successfully deleted\", }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_39","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"108251\", \"message\": \"Missing id field\" } Condition : ID du projet invalide. Code : 400 { \"error\": true, \"code\": \"108252\", \"message\": \"Invalid project id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#transformer-un-projet-en-facture","text":"Route de transformation d'un projet par un employ\u00e9 ou un g\u00e9rant. URL : /project/transform/:id Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du projet \u00e0 transformer \u2714\ufe0f","title":"Transformer un projet en facture"},{"location":"#requete-reussie_46","text":"Code : 200 { \"error\": false, \"message\": \"Project successfully transformed\", \"billId\": \"\", }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_40","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"108301\", \"message\": \"Missing id field\" } Condition : ID du projet invalide. Code : 400 { \"error\": true, \"code\": \"108302\", \"message\": \"Invalid project id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#temps","text":"","title":"Temps"},{"location":"#liste-des-temps-enregistres","text":"Route de r\u00e9cup\u00e9ration de la liste des temps enregistr\u00e9s pour un projet. URL : /times Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du projet pour lequel on veut r\u00e9cup\u00e9rer les temps -","title":"Liste des temps enregistr\u00e9s"},{"location":"#requete-reussie_47","text":"Code : 200 { \"error\": false, \"message\": \"Successful times acquisition\", \"times\": [{ \"id\": \"\", \"userId\": \"\", \"projectId\": \"\", \"taskName\": \"\", \"billable\": \"\", \"duration\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_41","text":"Condition : ID du projet invalide. Code : 400 { \"error\": true, \"code\": \"110051\", \"message\": \"Invalid project id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#creer-un-enregistrement-de-temps","text":"Route de cr\u00e9ation d'un enregistrement de temps par un employ\u00e9 ou un g\u00e9rant. URL : /time Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire userId string ID de l'employ\u00e9 ou le g\u00e9rant enregistrant le temps \u2714\ufe0f taskName string Nom de la t\u00e2che li\u00e9e au temps - projectId string ID du projet li\u00e9 au temps enregistr\u00e9 \u2714\ufe0f billable boolean Bool\u00e9en pour savoir si le temps est factirable ou non \u2714\ufe0f duration number Dur\u00e9e estim\u00e9 de la t\u00e2che en heure \u2714\ufe0f","title":"Cr\u00e9er un enregistrement de temps"},{"location":"#requete-reussie_48","text":"Code : 200 { \"error\": false, \"message\": \"Time successfully created\", \"time\": { \"id\": \"\", \"userId\": \"\", \"taskName\": \"\", \"projectId\": \"\", \"billable\": \"\", \"duration\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_42","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"110101\", \"message\": \"Missing important fields\" } Condition : ID de projet invalide. Code : 400 { \"error\": true, \"code\": \"110102\", \"message\": \"Invalid project id\" } Condition : ID de la t\u00e2che invalide. Code : 400 { \"error\": true, \"code\": \"110103\", \"message\": \"Invalid task id\" } Condition : Format du champs facturable invalide (bool\u00e9en). Code : 400 { \"error\": true, \"code\": \"110104\", \"message\": \"Invalid billable format\" } Condition : Format de la dur\u00e9e invalide. Code : 400 { \"error\": true, \"code\": \"110105\", \"message\": \"Invalid duration number\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#modifier-un-enregistrement-de-temps","text":"Route de modification d'un enregistrement de temps par un employ\u00e9 ou un g\u00e9rant. URL : /time Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID du temps enregistr\u00e9 \u2714\ufe0f billable boolean Bool\u00e9en pour savoir si le temps est factirable ou non \u2714\ufe0f","title":"Modifier un enregistrement de temps"},{"location":"#requete-reussie_49","text":"Code : 200 { \"error\": false, \"message\": \"Time successfully updated\", \"time\": { \"id\": \"\", \"userId\": \"\", \"taskName\": \"\", \"projectId\": \"\", \"billable\": \"\", \"duration\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_43","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"110151\", \"message\": \"Missing important fields\" } Condition : ID du temps invalide. Code : 400 { \"error\": true, \"code\": \"110152\", \"message\": \"Invalid time id\" } Condition : Format du champs facturable invalide (bool\u00e9en). Code : 400 { \"error\": true, \"code\": \"110153\", \"message\": \"Invalid billable format\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#supprimer-un-enregistrement-de-temps","text":"Route de suppression d'un enregistrement de temps par un employ\u00e9 ou un g\u00e9rant. URL : /time/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID du temps \u00e0 supprimer \u2714\ufe0f","title":"Supprimer un enregistrement de temps"},{"location":"#requete-reussie_50","text":"Code : 200 { \"error\": false, \"message\": \"Time successfully deleted\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_44","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"110201\", \"message\": \"Missing id field\" } Condition : ID du temps invalide. Code : 400 { \"error\": true, \"code\": \"110202\", \"message\": \"Invalid time id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#depenses","text":"","title":"D\u00e9penses"},{"location":"#liste-des-depenses","text":"Route de r\u00e9cup\u00e9ration de la liste des d\u00e9penses pour un g\u00e9rant ou un employ\u00e9. URL : /expenses/:projectId Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire projectId string ID du projet pour lequel on veut r\u00e9cup\u00e9rer les d\u00e9penses -","title":"Liste des d\u00e9penses"},{"location":"#requete-reussie_51","text":"Code : 200 { \"error\": false, \"message\": \"Successful expenses acquisition\", \"expenses\": [{ \"expenseNum\": \"\", \"id\": \"\", \"price\": \"\", \"accountNumber\": \"\", \"category\": \"\", \"file\": \"\", \"description\": \"\", \"userId\": \"\", \"projectId\": \"\", \"billable\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_45","text":"Condition : ID du projet invalide. Code : 400 { \"error\": true, \"code\": \"111001\", \"message\": \"Invalid project id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#recuperation-dune-depense","text":"Route de r\u00e9cup\u00e9ration d'une d\u00e9pense pour un g\u00e9rant ou un employ\u00e9. URL : /expense/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la d\u00e9pense que l'on veut r\u00e9cup\u00e9rer \u2714\ufe0f","title":"R\u00e9cup\u00e9ration d'une d\u00e9pense"},{"location":"#requete-reussie_52","text":"Code : 200 { \"error\": false, \"message\": \"Successful expense acquisition\", \"expense\": { \"expenseNum\": \"\", \"id\": \"\", \"price\": \"\", \"accountNumber\": \"\", \"category\": \"\", \"file\": \"\", \"description\": \"\", \"userId\": \"\", \"projectId\": \"\", \"billable\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_46","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"111051\", \"message\": \"Missing id field\" } Condition : ID de la d\u00e9pense invalide. Code : 400 { \"error\": true, \"code\": \"111052\", \"message\": \"Invalid expense id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#creer-une-depense","text":"Route de cr\u00e9ation d'une note de frais pour les employ\u00e9s et les g\u00e9rants. URL : /expense Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire expenseNum string Num\u00e9ro unique de d\u00e9pense \u2714\ufe0f projectId string ID du projet li\u00e9 \u00e0 la d\u00e9pense \u2714\ufe0f price number Montant de la d\u00e9pense \u2714\ufe0f accountNumber number Num\u00e9ro de compte comptable de la d\u00e9pense \u2714\ufe0f category string Category de d\u00e9pense \u2714\ufe0f billable boolean Bool\u00e9en pour savoir si la d\u00e9pense est factur\u00e9 ou non \u2714\ufe0f file file Document de justification de la d\u00e9pense - description string Description de la d\u00e9pense -","title":"Cr\u00e9er une d\u00e9pense"},{"location":"#requete-reussie_53","text":"Code : 200 { \"error\": false, \"message\": \"Expense successfully created\", \"expense\": { \"expenseNum\": \"\", \"id\": \"\", \"price\": \"\", \"accountNumber\": \"\", \"category\": \"\", \"file\": \"\", \"description\": \"\", \"userId\": \"\", \"projectId\": \"\", \"billable\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_47","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"111101\", \"message\": \"Missing important fields\" } Condition : Num\u00e9ro de note de frais invalide. Code : 400 { \"error\": true, \"code\": \"111102\", \"message\": \"Invalid expense number\" } Condition : Num\u00e9ro de compte invalide. Code : 400 { \"error\": true, \"code\": \"111103\", \"message\": \"Invalid account number\" } Condition : Format du prix invalide (Float). Code : 400 { \"error\": true, \"code\": \"111104\", \"message\": \"Invalid price format\" } Condition : Format du champ facturable invalide (bool\u00e9en). Code : 400 { \"error\": true, \"code\": \"111105\", \"message\": \"Invalid invoiced format\" } Condition : Id du projet invalide. Code : 400 { \"error\": true, \"code\": \"111106\", \"message\": \"Invalid project id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#modifier-une-depense","text":"Route de modification d'une d\u00e9pense par un employ\u00e9 ou un g\u00e9rant. URL : /expense Methode : PUT Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de la d\u00e9pense \u00e0 modifier \u2714\ufe0f billable boolean Bool\u00e9en pour savoir si la d\u00e9pense est factur\u00e9 ou non \u2714\ufe0f","title":"Modifier une d\u00e9pense"},{"location":"#requete-reussie_54","text":"Code : 200 { \"error\": false, \"message\": \"Expense successfully updated\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_48","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"111151\", \"message\": \"Missing id field\" } Condition : ID de la d\u00e9pense invalide. Code : 400 { \"error\": true, \"code\": \"111152\", \"message\": \"Invalid expense id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#supprimer-une-depense","text":"Route de suppression d'une d\u00e9pense par un employ\u00e9 ou un g\u00e9rant. URL : /expense/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la d\u00e9pense \u00e0 supprimer \u2714\ufe0f","title":"Supprimer une d\u00e9pense"},{"location":"#requete-reussie_55","text":"Code : 200 { \"error\": false, \"message\": \"Expense successfully deleted\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_49","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"111201\", \"message\": \"Missing id field\" } Condition : ID de la d\u00e9pense invalide. Code : 400 { \"error\": true, \"code\": \"111202\", \"message\": \"Invalid expense id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#conversations","text":"","title":"Conversations"},{"location":"#liste-des-conversations","text":"Route de r\u00e9cup\u00e9ration de la liste des conversation d'un utilisateur. URL : /conversations Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - -","title":"Liste des conversations"},{"location":"#requete-reussie_56","text":"Code : 200 { \"error\": false, \"message\": \"Successful conversations acquisition\", \"conversations\": [{ \"id\": \"\", \"member1\": \"\", \"member2\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"lastMessage\": \"\", },{...}] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#recuperation-dune-conversation","text":"Route de r\u00e9cup\u00e9ration d'une conversation avec un autre utilisateur. URL : /conversation/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de la conversation \u2714\ufe0f","title":"R\u00e9cup\u00e9ration d'une conversation"},{"location":"#requete-reussie_57","text":"Code : 200 { \"error\": false, \"message\": \"Successful conversation acquisition\", \"conversation\": { \"id\": \"\", \"member1\": \"\", \"member2\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"lastMessage\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_50","text":"Condition : ID de la conversation manquante. Code : 400 { \"error\": true, \"code\": \"112201\", \"message\": \"Missing id field\" } Condition : ID de la conversation invalide. Code : 400 { \"error\": true, \"code\": \"112202\", \"message\": \"Invalid conversation id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#recuperation-des-messages-dune-conversation","text":"Route de r\u00e9cup\u00e9ration des messages d'une conversation avec un autre utilisateur. URL : /conversation/:id/messages Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire id string ID de la conversation \u2714\ufe0f","title":"R\u00e9cup\u00e9ration des messages d'une conversation"},{"location":"#requete-reussie_58","text":"Code : 200 { \"error\": false, \"message\": \"Successful conversation messages acquisition\", \"messages\": [{ \"conversationId\": \"\", \"userId\": \"\", \"text\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_51","text":"Condition : ID de la conversation manquante. Code : 400 { \"error\": true, \"code\": \"112251\", \"message\": \"Missing id field\" } Condition : ID de la conversation invalide. Code : 400 { \"error\": true, \"code\": \"112252\", \"message\": \"Invalid conversation id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#creer-une-conversation","text":"Route de cr\u00e9ation d'une conversation par un utilisateur. URL : /conversation Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire userId string ID de l' utilisateur avec lequel on veut cr\u00e9er une conversation \u2714\ufe0f","title":"Cr\u00e9er une conversation"},{"location":"#requete-reussie_59","text":"Code : 200 { \"error\": false, \"message\": \"Conversation successfully created\", \"conversation\": { \"id\": \"\", \"member1\": \"\", \"member2\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", \"lastMessage\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_52","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"112101\", \"message\": \"Missing important fields\" } Condition : Si l'on cr\u00e9er une conversation avec soit m\u00eame Code : 400 { \"error\": true, \"code\": \"112102\", \"message\": \"Can't create conversation with yourself\" } Condition : ID de l'utilisateur invalide. Code : 400 { \"error\": true, \"code\": \"112103\", \"message\": \"Invalid user id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#supprimer-une-conversation","text":"Route de suppression d'une conversation par un utilisateur. URL : /conversation/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la conversation \u00e0 supprimer \u2714\ufe0f","title":"Supprimer une conversation"},{"location":"#requete-reussie_60","text":"Code : 200 { \"error\": false, \"message\": \"Conversation successfully deleted\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_53","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"112151\", \"message\": \"Missing id field\" } Condition : ID de la conversation invalide. Code : 400 { \"error\": true, \"code\": \"112152\", \"message\": \"Invalid conversation id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#notifications","text":"","title":"Notifications"},{"location":"#liste-des-notifications","text":"Route de r\u00e9cup\u00e9ration de la liste des notifications d'un utilisateur. URL : /notifications Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - -","title":"Liste des notifications"},{"location":"#requete-reussie_61","text":"Code : 200 { \"error\": false, \"message\": \"Successful notifications acquisition\", \"conversations\": [{ \"id\": \"\", \"title\": \"\", \"message\": \"\", \"catergory\": \"\", \"targetId\": \"\", \"userId\": \"\", \"seen\": \"\", \"createdAt\": \"\", \"updatedAt\": \"\", },{...}] }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#compteur-de-notification","text":"Route de r\u00e9cup\u00e9ration du nombre de notifications non lu. URL : /notifications/count Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - -","title":"Compteur de notification"},{"location":"#requete-reussie_62","text":"Code : 200 { \"error\": false, \"message\": \"Successful notifications count acquisition\", \"count\": \"\", }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#supprimer-une-notification","text":"Route de suppression d'une notification par un utilisateur. URL : /notification/:id Methode : DELETE Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la notification \u00e0 supprimer \u2714\ufe0f","title":"Supprimer une notification"},{"location":"#requete-reussie_63","text":"Code : 200 { \"error\": false, \"message\": \"Notification successfully deleted\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_54","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"113101\", \"message\": \"Missing id field\" } Condition : ID de la notification invalide. Code : 400 { \"error\": true, \"code\": \"113102\", \"message\": \"Invalid notification id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#paiement","text":"","title":"Paiement"},{"location":"#generation-des-informations-pour-le-paiement","text":"Route pour effectuer un paiement. URL : /bill/payment-sheet Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire amount number montant \u00e0 payer \u2714\ufe0f","title":"G\u00e9n\u00e9ration des informations pour le paiement"},{"location":"#requete-reussie_64","text":"Code : 200 { \"error\": false, \"paymentIntent\": \"\", \"ephemeralKey\": \"\", \"customer\": \"\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_55","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104351\", \"message\": \"Missing important fields\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#effectuer-un-paiement","text":"Route pour effectuer un paiement. URL : /bill/payment/:id Methode : POST Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string ID de la facture pour le paiement \u2714\ufe0f","title":"Effectuer un paiement"},{"location":"#requete-reussie_65","text":"Code : 200 { \"error\": false, \"message\": \"Bill successfully payed\", }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_56","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"104401\", \"message\": \"Missing important fields\" } Condition : Id de la facture invalide. Code : 400 { \"error\": true, \"code\": \"104402\", \"message\": \"Invalid bill id\" } Condition : Statut de la facture invalide (d\u00e9j\u00e0 pay\u00e9e). Code : 400 { \"error\": true, \"code\": \"104403\", \"message\": \"Invalid bill status\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#statistiques","text":"","title":"Statistiques"},{"location":"#obtenir-les-statistiques","text":"Route de r\u00e9cup\u00e9ration des statistiques pour la page d'accueil. URL : /global/statistics Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire - - - -","title":"Obtenir les statistiques"},{"location":"#requete-reussie_66","text":"Code : 200 { \"error\": false, \"statistics\": { \"gainTotal\": \"\", \"expenseTotal\": \"\", \"employeeTotal\": \"\", \"customerTotal\": \"\", \"projectTotal\": \"\", \"projectTimeTotal\": \"\", \"billUnpaidTotal\": \"\", \"billUnpaidAmountTotal\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#routes-globales","text":"","title":"Routes globales"},{"location":"#obtenir-un-numero-pour-la-creation-dun-document","text":"Route de r\u00e9cup\u00e9ration du prochain num\u00e9ro disponible pour un document. URL : /global/nextNumber&acronym='' Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire &acronym string Acronyme du document pour lequel on veut r\u00e9cup\u00e9rer le num\u00e9ro (FAC, DEV, PRO, EXP, etc...) \u2714\ufe0f","title":"Obtenir un num\u00e9ro pour la cr\u00e9ation d'un document"},{"location":"#requete-reussie_67","text":"Code : 200 { \"error\": false, \"message\": \"Successful statistic acquisition\", \"statistics\": { \"gainTotal\": \"\", \"expenseTotal\": \"\", \"employeeTotal\": \"\", \"customerTotal\": \"\", \"projectTotal\": \"\", \"projectTimeTotal\": \"\", \"billUnpaidTotal\": \"\", \"billUnpaidAmountTotal\": \"\", } }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_57","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"114001\", \"message\": \"Missing important fields\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#generation-dun-document","text":"Route de g\u00e9n\u00e9ration d'un document en pdf pour l'envoyer par mail. URL : /global/generateInvoice/:type/:id Methode : GET Token requis : OUI Param\u00e8tres de la requ\u00eate Param\u00e8tres Type Description Obligatoire :id string Id du document pour lequel \u2714\ufe0f :type string Pr\u00e9cision du type de document (bill, estimate) \u2714\ufe0f","title":"G\u00e9n\u00e9ration d'un document"},{"location":"#requete-reussie_68","text":"Code : 200 { \"error\": false, \"message\": \"Document successfully send\" }","title":"Requ\u00eate r\u00e9ussie"},{"location":"#requete-echouee_58","text":"Condition : Champs obligatoires manquants. Code : 400 { \"error\": true, \"code\": \"114051\", \"message\": \"Missing important fields\" } Condition : Format du type invalide (estimate, bill). Code : 400 { \"error\": true, \"code\": \"114052\", \"message\": \"Invalid type field\" } Condition : Le client n'existe plus. Code : 400 { \"error\": true, \"code\": \"114053\", \"message\": \"Invalid customer id\" } Condition : Le document n'existe pas. Code : 400 { \"error\": true, \"code\": \"114054\", \"message\": \"Invalid file id\" }","title":"Requ\u00eate \u00e9chou\u00e9e"},{"location":"#erreurs-globales","text":"Condition : Lors d'une erreur interne au serveur. Code : 500 { \"error\": true, \"message\": \"Unexpected error\" } Condition : Erreur d'authentification. Code : 401 { \"error\": true, \"code\": \"401001\", \"message\": \"Not authorized to access to this resource\" } Condition : R\u00f4le n\u00e9cessaire pour faire la requ\u00eate invalide. Code : 401 { \"error\": true, \"code\": \"401002\", \"message\": \"You do not have the required permissions\" }","title":"Erreurs globales"}]}